var Swiper=function(a,b){"use strict";function c(a,b){return document.querySelectorAll?(b||document).querySelectorAll(a):jQuery(a,b)}function e(){var a=G-J;return b.freeMode&&(a=G-J),b.slidesPerView>D.slides.length&&!b.centeredSlides&&(a=0),a<0&&(a=0),a}function g(){var a,d=D.h.addEventListener;if(b.preventLinks){var e=c("a",D.container);for(a=0;a<e.length;a++)d(e[a],"click",n)}if(b.releaseFormElements){var f=c("input, textarea, select",D.container);for(a=0;a<f.length;a++)d(f[a],D.touchEvents.touchStart,o,!0),D.support.touch&&b.simulateTouch&&d(f[a],"mousedown",o,!0)}if(b.onSlideClick)for(a=0;a<D.slides.length;a++)d(D.slides[a],"click",k);if(b.onSlideTouch)for(a=0;a<D.slides.length;a++)d(D.slides[a],D.touchEvents.touchStart,l)}function h(){var a,d=D.h.removeEventListener;if(b.onSlideClick)for(a=0;a<D.slides.length;a++)d(D.slides[a],"click",k);if(b.onSlideTouch)for(a=0;a<D.slides.length;a++)d(D.slides[a],D.touchEvents.touchStart,l);if(b.releaseFormElements){var e=c("input, textarea, select",D.container);for(a=0;a<e.length;a++)d(e[a],D.touchEvents.touchStart,o,!0),D.support.touch&&b.simulateTouch&&d(e[a],"mousedown",o,!0)}if(b.preventLinks){var f=c("a",D.container);for(a=0;a<f.length;a++)d(f[a],"click",n)}}function i(a){var b=a.keyCode||a.charCode;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)){if(37===b||39===b||38===b||40===b){for(var c=!1,d=D.h.getOffset(D.container),e=D.h.windowScroll().left,f=D.h.windowScroll().top,g=D.h.windowWidth(),h=D.h.windowHeight(),i=[[d.left,d.top],[d.left+D.width,d.top],[d.left,d.top+D.height],[d.left+D.width,d.top+D.height]],j=0;j<i.length;j++){var k=i[j];k[0]>=e&&k[0]<=e+g&&k[1]>=f&&k[1]<=f+h&&(c=!0)}if(!c)return}N?(37!==b&&39!==b||(a.preventDefault?a.preventDefault():a.returnValue=!1),39===b&&D.swipeNext(),37===b&&D.swipePrev()):(38!==b&&40!==b||(a.preventDefault?a.preventDefault():a.returnValue=!1),40===b&&D.swipeNext(),38===b&&D.swipePrev())}}function j(a){var c=D._wheelEvent,d=0;if(a.detail)d=-a.detail;else if("mousewheel"===c)if(b.mousewheelControlForceToAxis)if(N){if(!(Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)))return;d=a.wheelDeltaX}else{if(!(Math.abs(a.wheelDeltaY)>Math.abs(a.wheelDeltaX)))return;d=a.wheelDeltaY}else d=a.wheelDelta;else if("DOMMouseScroll"===c)d=-a.detail;else if("wheel"===c)if(b.mousewheelControlForceToAxis)if(N){if(!(Math.abs(a.deltaX)>Math.abs(a.deltaY)))return;d=-a.deltaX}else{if(!(Math.abs(a.deltaY)>Math.abs(a.deltaX)))return;d=-a.deltaY}else d=Math.abs(a.deltaX)>Math.abs(a.deltaY)?-a.deltaX:-a.deltaY;if(b.freeMode){var f=D.getWrapperTranslate()+d;if(0<f&&(f=0),f<-e()&&(f=-e()),D.setWrapperTransition(0),D.setWrapperTranslate(f),D.updateActiveSlide(f),0===f||f===-e())return}else 60<(new Date).getTime()-V&&(d<0?D.swipeNext():D.swipePrev()),V=(new Date).getTime();return b.autoplay&&D.stopAutoplay(!0),a.preventDefault?a.preventDefault():a.returnValue=!1,!1}function k(a){D.allowSlideClick&&(m(a),D.fireCallback(b.onSlideClick,D,a))}function l(a){m(a),D.fireCallback(b.onSlideTouch,D,a)}function m(a){if(a.currentTarget)D.clickedSlide=a.currentTarget;else{var c=a.srcElement;do{if(-1<c.className.indexOf(b.slideClass))break;c=c.parentNode}while(c);D.clickedSlide=c}D.clickedSlideIndex=D.slides.indexOf(D.clickedSlide),D.clickedSlideLoopIndex=D.clickedSlideIndex-(D.loopedSlides||0)}function n(a){return D.allowLinks?void 0:(a.preventDefault?a.preventDefault():a.returnValue=!1,b.preventLinksPropagation&&"stopPropagation"in a&&a.stopPropagation(),!1)}function o(a){return a.stopPropagation?a.stopPropagation():a.returnValue=!1,!1}function p(a){if(b.preventLinks&&(D.allowLinks=!0),D.isTouched||b.onlyExternal)return!1;var c=a.target||a.srcElement;(new Date).getTime(),document.activeElement&&document.activeElement!==document.body&&document.activeElement!==c&&document.activeElement.blur();var d="input select textarea".split(" ");if(b.noSwiping&&c&&function(a){var c=!1;for(;s(a,b.noSwipingClass)&&(c=!0),a=a.parentElement,!c&&a.parentElement&&!s(a,b.wrapperClass););return!c&&s(a,b.wrapperClass)&&s(a,b.noSwipingClass)&&(c=!0),c}(c))return!1;if(_=!1,D.isTouched=!0,!($="touchstart"===a.type)&&"which"in a&&3===a.which)return D.isTouched=!1;if(!$||1===a.targetTouches.length){D.callPlugins("onTouchStartBegin"),!$&&!D.isAndroid&&d.indexOf(c.tagName.toLowerCase())<0&&(a.preventDefault?a.preventDefault():a.returnValue=!1);var e=$?a.targetTouches[0].pageX:a.pageX||a.clientX,f=$?a.targetTouches[0].pageY:a.pageY||a.clientY;D.touches.startX=D.touches.currentX=e,D.touches.startY=D.touches.currentY=f,D.touches.start=D.touches.current=N?e:f,D.setWrapperTransition(0),D.positions.start=D.positions.current=D.getWrapperTranslate(),D.setWrapperTranslate(D.positions.start),D.times.start=(new Date).getTime(),I=void 0,0<b.moveStartThreshold&&(X=!1),b.onTouchStart&&D.fireCallback(b.onTouchStart,D,a),D.callPlugins("onTouchStartEnd")}return a.stopPropagation(),a.preventDefault(),!1}function q(a){if(D.isTouched&&!b.onlyExternal&&(!$||"mousemove"!==a.type)){var c=$?a.targetTouches[0].pageX:a.pageX||a.clientX,d=$?a.targetTouches[0].pageY:a.pageY||a.clientY;if(void 0===I&&N&&(I=!!(I||Math.abs(d-D.touches.startY)>Math.abs(c-D.touches.startX))),void 0!==I||N||(I=!!(I||Math.abs(d-D.touches.startY)<Math.abs(c-D.touches.startX))),I)return void(D.isTouched=!1);if(N){if(!b.swipeToNext&&c<D.touches.startX||!b.swipeToPrev&&c>D.touches.startX)return}else if(!b.swipeToNext&&d<D.touches.startY||!b.swipeToPrev&&d>D.touches.startY)return;if(a.assignedToSwiper)return void(D.isTouched=!1);if(a.assignedToSwiper=!0,b.preventLinks&&(D.allowLinks=!1),b.onSlideClick&&(D.allowSlideClick=!1),b.autoplay&&D.stopAutoplay(!0),!$||1===a.touches.length){var f;if(D.isMoved||(D.callPlugins("onTouchMoveStart"),b.loop&&(D.fixLoop(),D.positions.start=D.getWrapperTranslate()),b.onTouchMoveStart&&D.fireCallback(b.onTouchMoveStart,D)),D.isMoved=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,D.touches.current=N?c:d,D.positions.current=(D.touches.current-D.touches.start)*b.touchRatio+D.positions.start,0<D.positions.current&&b.onResistanceBefore&&D.fireCallback(b.onResistanceBefore,D,D.positions.current),D.positions.current<-e()&&b.onResistanceAfter&&D.fireCallback(b.onResistanceAfter,D,Math.abs(D.positions.current+e())),b.resistance&&"100%"!==b.resistance)if(0<D.positions.current&&(f=1-D.positions.current/J/2,D.positions.current=f<.5?J/2:D.positions.current*f),D.positions.current<-e()){var g=(D.touches.current-D.touches.start)*b.touchRatio+(e()+D.positions.start);f=(J+g)/J;var h=D.positions.current-g*(1-f)/2,i=-e()-J/2;D.positions.current=h<i||f<=0?i:h}if(b.resistance&&"100%"===b.resistance&&(0<D.positions.current&&(!b.freeMode||b.freeModeFluid)&&(D.positions.current=0),D.positions.current<-e()&&(!b.freeMode||b.freeModeFluid)&&(D.positions.current=-e())),!b.followFinger)return;if(b.moveStartThreshold)if(Math.abs(D.touches.current-D.touches.start)>b.moveStartThreshold||X){if(!X)return X=!0,void(D.touches.start=D.touches.current);D.setWrapperTranslate(D.positions.current)}else D.positions.current=D.positions.start;else D.setWrapperTranslate(D.positions.current);return(b.freeMode||b.watchActiveIndex)&&D.updateActiveSlide(D.positions.current),b.grabCursor&&(D.container.style.cursor="move",D.container.style.cursor="grabbing",D.container.style.cursor="-moz-grabbin",D.container.style.cursor="-webkit-grabbing"),Y=Y||D.touches.current,Z=Z||(new Date).getTime(),D.velocity=(D.touches.current-Y)/((new Date).getTime()-Z)/2,Math.abs(D.touches.current-Y)<2&&(D.velocity=0),Y=D.touches.current,Z=(new Date).getTime(),D.callPlugins("onTouchMoveEnd"),b.onTouchMove&&D.fireCallback(b.onTouchMove,D,a),!1}}return a.stopPropagation(),a.preventDefault(),!1}function r(a){if(I&&D.swipeReset(),!b.onlyExternal&&D.isTouched){D.isTouched=!1,b.grabCursor&&(D.container.style.cursor="move",D.container.style.cursor="grab",D.container.style.cursor="-moz-grab",D.container.style.cursor="-webkit-grab"),D.positions.current||0===D.positions.current||(D.positions.current=D.positions.start),b.followFinger&&D.setWrapperTranslate(D.positions.current),D.times.end=(new Date).getTime(),D.touches.diff=D.touches.current-D.touches.start,D.touches.abs=Math.abs(D.touches.diff),D.positions.diff=D.positions.current-D.positions.start,D.positions.abs=Math.abs(D.positions.diff);var c=D.positions.diff,d=D.positions.abs,f=D.times.end-D.times.start;d<5&&f<300&&!1===D.allowLinks&&(b.freeMode||0===d||D.swipeReset(),b.preventLinks&&(D.allowLinks=!0),b.onSlideClick&&(D.allowSlideClick=!0)),setTimeout(function(){null!=D&&(b.preventLinks&&(D.allowLinks=!0),b.onSlideClick&&(D.allowSlideClick=!0))},100);var g=e();if(!D.isMoved&&b.freeMode)return D.isMoved=!1,b.onTouchEnd&&D.fireCallback(b.onTouchEnd,D,a),void D.callPlugins("onTouchEnd");if(!D.isMoved||0<D.positions.current||D.positions.current<-g)return D.swipeReset(),b.onTouchEnd&&D.fireCallback(b.onTouchEnd,D,a),void D.callPlugins("onTouchEnd");if(D.isMoved=!1,b.freeMode){if(b.freeModeFluid){var h,i=1e3*b.momentumRatio,j=D.velocity*i,k=D.positions.current+j,l=!1,m=20*Math.abs(D.velocity)*b.momentumBounceRatio;k<-g&&(b.momentumBounce&&D.support.transitions?(k+g<-m&&(k=-g-m),h=-g,_=l=!0):k=-g),0<k&&(b.momentumBounce&&D.support.transitions?(m<k&&(k=m),_=l=!(h=0)):k=0),0!==D.velocity&&(i=Math.abs((k-D.positions.current)/D.velocity)),D.setWrapperTranslate(k),D.setWrapperTransition(i),b.momentumBounce&&l&&D.wrapperTransitionEnd(function(){_&&(b.onMomentumBounce&&D.fireCallback(b.onMomentumBounce,D),D.callPlugins("onMomentumBounce"),D.setWrapperTranslate(h),D.setWrapperTransition(300))}),D.updateActiveSlide(k)}return(!b.freeModeFluid||300<=f)&&D.updateActiveSlide(D.positions.current),b.onTouchEnd&&D.fireCallback(b.onTouchEnd,D,a),void D.callPlugins("onTouchEnd")}"toNext"==(H=c<0?"toNext":"toPrev")&&f<=300&&(d<30||!b.shortSwipes?D.swipeReset():D.swipeNext(!0,!0)),"toPrev"==H&&f<=300&&(d<30||!b.shortSwipes?D.swipeReset():D.swipePrev(!0,!0));var n=0;if("auto"===b.slidesPerView){for(var o,p=Math.abs(D.getWrapperTranslate()),q=0,r=0;r<D.slides.length;r++)if(p<(q+=o=N?D.slides[r].getWidth(!0,b.roundLengths):D.slides[r].getHeight(!0,b.roundLengths))){n=o;break}J<n&&(n=J)}else n=F*b.slidesPerView;"toNext"==H&&300<f&&(d>=n*b.longSwipesRatio?D.swipeNext(!0,!0):D.swipeReset()),"toPrev"==H&&300<f&&(d>=n*b.longSwipesRatio?D.swipePrev(!0,!0):D.swipeReset()),b.onTouchEnd&&D.fireCallback(b.onTouchEnd,D,a),D.callPlugins("onTouchEnd")}return a.stopPropagation(),a.preventDefault(),!1}function s(a,b){return a&&a.getAttribute("class")&&-1<a.getAttribute("class").indexOf(b)}function u(a,b){var c,d=document.createElement("div");return d.innerHTML=b,(c=d.firstChild).className+=" "+a,c.outerHTML}function v(a,c,d){var f="to"===c&&0<=d.speed?d.speed:b.speed,g=+new Date;if(D.support.transitions||!b.DOMAnimation)D.setWrapperTranslate(a),D.setWrapperTransition(f);else{var h=D.getWrapperTranslate(),i=Math.ceil((a-h)/f*(1e3/60)),j=a<h?"toNext":"toPrev";if(D._DOMAnimating)return;!function e(){var f=+new Date;h+=i*(f-g)/(1e3/60),("toNext"===j?a<h:h<a)?(D.setWrapperTranslate(Math.ceil(h)),D._DOMAnimating=!0,window.setTimeout(function(){e()},1e3/60)):(!b.onSlideChangeEnd||"to"===c&&!0!==d.runCallbacks||D.fireCallback(b.onSlideChangeEnd,D,j),D.setWrapperTranslate(a),D._DOMAnimating=!1)}()}D.updateActiveSlide(a),b.onSlideNext&&"next"===c&&!0===d.runCallbacks&&D.fireCallback(b.onSlideNext,D,a),b.onSlidePrev&&"prev"===c&&!0===d.runCallbacks&&D.fireCallback(b.onSlidePrev,D,a),b.onSlideReset&&"reset"===c&&!0===d.runCallbacks&&D.fireCallback(b.onSlideReset,D,a),"next"!==c&&"prev"!==c&&"to"!==c||!0!==d.runCallbacks||function(a){if(D.callPlugins("onSlideChangeStart"),b.onSlideChangeStart)if(b.queueStartCallbacks&&D.support.transitions){if(D._queueStartCallbacks)return;D._queueStartCallbacks=!0,D.fireCallback(b.onSlideChangeStart,D,a),D.wrapperTransitionEnd(function(){D._queueStartCallbacks=!1})}else D.fireCallback(b.onSlideChangeStart,D,a);if(b.onSlideChangeEnd)if(D.support.transitions)if(b.queueEndCallbacks){if(D._queueEndCallbacks)return;D._queueEndCallbacks=!0,D.wrapperTransitionEnd(function(c){D.fireCallback(b.onSlideChangeEnd,c,a)})}else D.wrapperTransitionEnd(function(c){D.fireCallback(b.onSlideChangeEnd,c,a)});else b.DOMAnimation||setTimeout(function(){D.fireCallback(b.onSlideChangeEnd,D,a)},10)}(c)}function x(){var a=D.paginationButtons;if(a)for(var b=0;b<a.length;b++)D.h.removeEventListener(a[b],"click",z)}function z(a){var d=a.target||a.srcElement;"image"===b.paginationModel&&"IMG"===d.tagName&&(d=d.parentNode);for(var c,e=D.paginationButtons,f=0;f<e.length;f++)d===e[f]&&(c=f);b.autoplay&&D.stopAutoplay(!0),D.swipeTo(c)}function A(){ab=setTimeout(function(){b.loop?(D.fixLoop(),D.swipeNext(!0,!0)):D.swipeNext(!0,!0)||(b.autoplayStopOnLast?(clearTimeout(ab),ab=void 0):D.swipeTo(0)),D.wrapperTransitionEnd(function(){void 0!==ab&&A()})},b.autoplay)}function TTC(e){var _trX,_W,_inner_width,_container_width,_inner=c(".swiper-pagination-inner",D.paginationContainer)[0],_container=c(".swiper-pagination-container",D.paginationContainer)[0];_container&&(_inner_width=_inner.offsetWidth,_container_width=_container.offsetWidth,_trX=_container.scrollLeft||0,e.target.classList&&e.target.classList.contains("swiper-pagination-left")?_W=_trX-((b.paginationElementSize.width||60)+14):e.target.classList&&e.target.classList.contains("swiper-pagination-right")&&(_W=_trX+(b.paginationElementSize.width||60)+14),c(".swiper-pagination-left",D.paginationContainer)[0].className="swiper-pagination-left",c(".swiper-pagination-right",D.paginationContainer)[0].className="swiper-pagination-right",_inner_width-_container_width<=_W&&(c(".swiper-pagination-right",D.paginationContainer)[0].className="swiper-pagination-right swiper-pagination-disable",_W=_inner_width-_container_width),_W<0&&(c(".swiper-pagination-left",D.paginationContainer)[0].className="swiper-pagination-left swiper-pagination-disable",_W=0),_container.scrollLeft=_W)}if(!document.body.outerHTML&&document.body.__defineGetter__&&HTMLElement){var C=HTMLElement.prototype;C.__defineGetter__&&C.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"===b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1}),(document.querySelectorAll||window.jQuery)&&void 0!==a&&(a.nodeType||0!==c(a).length)){var D=this;D.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0},D.positions={start:0,abs:0,diff:0,current:0},D.times={start:0,end:0},D.id=(new Date).getTime(),D.container=a.nodeType?a:c(a)[0],D.isTouched=!1,D.isMoved=!1,D.activeIndex=0,D.centerIndex=0,D.activeLoaderIndex=0,D.activeLoopIndex=0,D.previousIndex=null,D.velocity=0,D.snapGrid=[],D.slidesGrid=[],D.imagesToLoad=[],D.imagesLoaded=0,D.wrapperLeft=0,D.wrapperRight=0,D.wrapperTop=0,D.wrapperBottom=0,D.isAndroid=0<=navigator.userAgent.toLowerCase().indexOf("android");var E,F,G,H,I,J,K={eventTarget:"wrapper",mode:"horizontal",touchRatio:1,speed:300,freeMode:!1,freeModeFluid:!1,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,slidesPerViewFit:!0,simulateTouch:!0,followFinger:!0,shortSwipes:!0,longSwipesRatio:.5,moveStartThreshold:!1,onlyExternal:!1,createPagination:!0,pagination:!1,paginationElement:"span",paginationClickable:!1,paginationAsRange:!0,resistance:!0,scrollContainer:!1,preventLinks:!0,preventLinksPropagation:!1,noSwiping:!1,noSwipingClass:"swiper-no-swiping",initialSlide:0,keyboardControl:!1,mousewheelControl:!1,mousewheelControlForceToAxis:!1,useCSS3Transforms:!0,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,loop:!1,loopAdditionalSlides:0,roundLengths:!1,calculateHeight:!1,cssWidthAndHeight:!1,updateOnImagesReady:!0,releaseFormElements:!0,watchActiveIndex:!1,visibilityFullFit:!1,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:!1,queueStartCallbacks:!1,queueEndCallbacks:!1,autoResize:!0,resizeReInit:!1,DOMAnimation:!0,loader:{slides:[],slidesHTMLType:"inner",surroundGroups:1,logic:"reload",loadAllSlides:!1},swipeToPrev:!0,swipeToNext:!0,slideElement:"div",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",wrapperClass:"swiper-wrapper",paginationContainerInnerClass:"swiper-pagination-inner",paginationElementClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch",paginationVisibleClass:"swiper-visible-switch"};for(var L in b=b||{},K)if(L in b&&"object"==typeof b[L])for(var M in K[L])M in b[L]||(b[L][M]=K[L][M]);else L in b||(b[L]=K[L]);(D.params=b).scrollContainer&&(b.freeMode=!0,b.freeModeFluid=!0),b.loop&&(b.resistance="100%");var N="horizontal"===b.mode,O=["mousedown","mousemove","mouseup"];D.browser.ie10&&(O=["MSPointerDown","MSPointerMove","MSPointerUp"]),D.browser.ie11&&(O=["pointerdown","pointermove","pointerup"]),D.touchEvents={touchStart:D.support.touch||!b.simulateTouch?"touchstart":O[0],touchMove:D.support.touch||!b.simulateTouch?"touchmove":O[1],touchEnd:D.support.touch||!b.simulateTouch?"touchend":O[2]};for(var P=D.container.childNodes.length-1;0<=P;P--)if(D.container.childNodes[P].className)for(var Q=D.container.childNodes[P].className.split(/\s+/),R=0;R<Q.length;R++)Q[R]===b.wrapperClass&&(E=D.container.childNodes[P]);D.wrapper=E,D._extendSwiperSlide=function(a){return a.append=function(){return b.loop?a.insertAfter(D.slides.length-D.loopedSlides):(D.wrapper.appendChild(a),D.reInit()),a},a.prepend=function(){return b.loop?(D.wrapper.insertBefore(a,D.slides[D.loopedSlides]),D.removeLoopedSlides(),D.calcSlides(),D.createLoop()):D.wrapper.insertBefore(a,D.wrapper.firstChild),D.reInit(),a},a.insertAfter=function(c){return void 0!==c&&(b.loop?((d=D.slides[c+1+D.loopedSlides])?D.wrapper.insertBefore(a,d):D.wrapper.appendChild(a),D.removeLoopedSlides(),D.calcSlides(),D.createLoop()):(d=D.slides[c+1],D.wrapper.insertBefore(a,d)),D.reInit(),a);var d},a.clone=function(){return D._extendSwiperSlide(a.cloneNode(!0))},a.remove=function(){D.wrapper.removeChild(a),D.reInit()},a.html=function(b){return void 0===b?a.innerHTML:(a.innerHTML=b,a)},a.index=function(){for(var b,c=D.slides.length-1;0<=c;c--)a===D.slides[c]&&(b=c);return b},a.isActive=function(){return a.index()===D.activeIndex},a.swiperSlideDataStorage||(a.swiperSlideDataStorage={}),a.getData=function(b){return a.swiperSlideDataStorage[b]},a.setData=function(b,c){return a.swiperSlideDataStorage[b]=c,a},a.data=function(b,c){return void 0===c?a.getAttribute("data-"+b):(a.setAttribute("data-"+b,c),a)},a.getWidth=function(b,c){return D.h.getWidth(a,b,c)},a.getHeight=function(b,c){return D.h.getHeight(a,b,c)},a.getOffset=function(){return D.h.getOffset(a)},a},D.calcSlides=function(a){var c=!!D.slides&&D.slides.length;D.slides=[],D.displaySlides=[];for(var d=0;d<D.wrapper.childNodes.length;d++)if(D.wrapper.childNodes[d].className)for(var f=D.wrapper.childNodes[d].className.split(/\s+/),i=0;i<f.length;i++)f[i]===b.slideClass&&D.slides.push(D.wrapper.childNodes[d]);for(d=D.slides.length-1;0<=d;d--)D._extendSwiperSlide(D.slides[d]);!1===c||c===D.slides.length&&!a||(h(),g(),D.updateActiveSlide(),D.params.pagination&&D.createPagination(),D.callPlugins("numberOfSlidesChanged"))},D.createSlide=function(a,c,d){c=c||D.params.slideClass,d=d||b.slideElement;var e=document.createElement(d);return e.innerHTML=a||"",e.className=c,D._extendSwiperSlide(e)},D.appendSlide=function(a,b,c){return a?a.nodeType?D._extendSwiperSlide(a).append():D.createSlide(a,b,c).append():void 0},D.prependSlide=function(a,b,c){return a?a.nodeType?D._extendSwiperSlide(a).prepend():D.createSlide(a,b,c).prepend():void 0},D.insertSlideAfter=function(a,b,c,d){return void 0!==a&&(b.nodeType?D._extendSwiperSlide(b).insertAfter(a):D.createSlide(b,c,d).insertAfter(a))},D.removeSlide=function(a){if(D.slides[a]){if(b.loop){if(!D.slides[a+D.loopedSlides])return!1;D.slides[a+D.loopedSlides].remove(),D.removeLoopedSlides(),D.calcSlides(),D.createLoop()}else D.slides[a].remove();return!0}return!1},D.removeLastSlide=function(){return 0<D.slides.length&&(b.loop?(D.slides[D.slides.length-1-D.loopedSlides].remove(),D.removeLoopedSlides(),D.calcSlides(),D.createLoop()):D.slides[D.slides.length-1].remove(),!0)},D.removeAllSlides=function(){for(var a=D.slides.length,b=D.slides.length-1;0<=b;b--)D.slides[b].remove(),b===a-1&&D.setWrapperTranslate(0)},D.getSlide=function(a){return D.slides[a]},D.getLastSlide=function(){return D.slides[D.slides.length-1]},D.getFirstSlide=function(){return D.slides[0]},D.activeSlide=function(){return D.slides[D.activeIndex]},D.fireCallback=function(){var a=arguments[0];if("[object Array]"===Object.prototype.toString.call(a))for(var c=0;c<a.length;c++)"function"==typeof a[c]&&a[c](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);else"[object String]"===Object.prototype.toString.call(a)?b["on"+a]&&D.fireCallback(b["on"+a],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):a(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},D.addCallback=function(a,b){var c;return this.params["on"+a]?function(a){return"[object Array]"===Object.prototype.toString.apply(a)}(this.params["on"+a])?this.params["on"+a].push(b):"function"==typeof this.params["on"+a]?(c=this.params["on"+a],this.params["on"+a]=[],this.params["on"+a].push(c),this.params["on"+a].push(b)):void 0:(this.params["on"+a]=[],this.params["on"+a].push(b))},D.removeCallbacks=function(a){D.params["on"+a]&&(D.params["on"+a]=null)};var S=[];for(var T in D.plugins)if(b[T]){var U=D.plugins[T](D,b[T]);U&&S.push(U)}D.callPlugins=function(a,b){b=b||{};for(var c=0;c<S.length;c++)a in S[c]&&S[c][a](b)},!D.browser.ie10&&!D.browser.ie11||b.onlyExternal||D.wrapper.classList.add("swiper-wp8-"+(N?"horizontal":"vertical")),b.freeMode&&(D.container.className+=" swiper-free-mode"),D.initialized=!1,D.init=function(a,c){var d=D.h.getWidth(D.container,!1,b.roundLengths),e=D.h.getHeight(D.container,!1,b.roundLengths);if(d!==D.width||e!==D.height||a){var f,g,h,i,j,k,l;D.width=d,D.height=e,J=N?d:e;var m=D.wrapper;if(a&&D.calcSlides(c),"auto"===b.slidesPerView){var n=0,o=0;0<b.slidesOffset&&(m.style.paddingLeft="",m.style.paddingRight="",m.style.paddingTop="",m.style.paddingBottom=""),m.style.width="",m.style.height="",0<b.offsetPxBefore&&(N?D.wrapperLeft=b.offsetPxBefore:D.wrapperTop=b.offsetPxBefore),0<b.offsetPxAfter&&(N?D.wrapperRight=b.offsetPxAfter:D.wrapperBottom=b.offsetPxAfter),b.centeredSlides&&(N?(D.wrapperLeft=(J-this.slides[0].getWidth(!0,b.roundLengths))/2,D.wrapperRight=(J-D.slides[D.slides.length-1].getWidth(!0,b.roundLengths))/2):(D.wrapperTop=(J-D.slides[0].getHeight(!0,b.roundLengths))/2,D.wrapperBottom=(J-D.slides[D.slides.length-1].getHeight(!0,b.roundLengths))/2)),N?(0<=D.wrapperLeft&&(m.style.paddingLeft=D.wrapperLeft+"px"),0<=D.wrapperRight&&(m.style.paddingRight=D.wrapperRight+"px")):(0<=D.wrapperTop&&(m.style.paddingTop=D.wrapperTop+"px"),0<=D.wrapperBottom&&(m.style.paddingBottom=D.wrapperBottom+"px"));var p=k=0;for(D.snapGrid=[],D.slidesGrid=[],l=h=0;l<D.slides.length;l++){f=D.slides[l].getWidth(!0,b.roundLengths),g=D.slides[l].getHeight(!0,b.roundLengths),b.calculateHeight&&(h=Math.max(h,g));var q=N?f:g;if(b.centeredSlides){var r=l===D.slides.length-1?0:D.slides[l+1].getWidth(!0,b.roundLengths),s=l===D.slides.length-1?0:D.slides[l+1].getHeight(!0,b.roundLengths),t=N?r:s;if(J<q){if(b.slidesPerViewFit)D.snapGrid.push(k+D.wrapperLeft),D.snapGrid.push(k+q-J+D.wrapperLeft);else for(var u=0;u<=Math.floor(q/(J+D.wrapperLeft));u++)D.snapGrid.push(0===u?k+D.wrapperLeft:k+D.wrapperLeft+J*u);D.slidesGrid.push(k+D.wrapperLeft)}else D.snapGrid.push(p),D.slidesGrid.push(p);p+=q/2+t/2}else{if(J<q)if(b.slidesPerViewFit)D.snapGrid.push(k),D.snapGrid.push(k+q-J);else if(0!==J)for(var v=0;v<=Math.floor(q/J);v++)D.snapGrid.push(k+J*v);else D.snapGrid.push(k);else D.snapGrid.push(k);D.slidesGrid.push(k)}k+=q,n+=f,o+=g}b.calculateHeight&&(D.height=h),N?(G=n+D.wrapperRight+D.wrapperLeft,b.cssWidthAndHeight&&"height"!==b.cssWidthAndHeight||(m.style.width=n+"px"),b.cssWidthAndHeight&&"width"!==b.cssWidthAndHeight||(m.style.height=D.height+"px;")):(b.cssWidthAndHeight&&"height"!==b.cssWidthAndHeight||(m.style.width=D.width+"px"),b.cssWidthAndHeight&&"width"!==b.cssWidthAndHeight||(m.style.height=o+"px"),G=o+D.wrapperTop+D.wrapperBottom)}else if(b.scrollContainer)m.style.width="",m.style.height="",i=D.slides[0].getWidth(!0,b.roundLengths),j=D.slides[0].getHeight(!0,b.roundLengths),G=N?i:j,m.style.width=i+"px",m.style.height=j+"px",F=N?i:j;else{if(b.calculateHeight){for(j=h=0,N||(D.container.style.height=""),m.style.height="",l=0;l<D.slides.length;l++)D.slides[l].style.height="",h=Math.max(D.slides[l].getHeight(!0),h),N||(j+=D.slides[l].getHeight(!0));g=h,D.height=g,N?j=g:(J=g,D.container.style.height=J+"px")}else g=N?D.height:D.height/b.slidesPerView,b.roundLengths&&(g=Math.ceil(g)),j=N?D.height:D.slides.length*g;for(f=N?D.width/b.slidesPerView:D.width,b.roundLengths&&(f=Math.ceil(f)),i=N?D.slides.length*f:D.width,F=N?f:g,0<b.offsetSlidesBefore&&(N?D.wrapperLeft=F*b.offsetSlidesBefore:D.wrapperTop=F*b.offsetSlidesBefore),0<b.offsetSlidesAfter&&(N?D.wrapperRight=F*b.offsetSlidesAfter:D.wrapperBottom=F*b.offsetSlidesAfter),0<b.offsetPxBefore&&(N?D.wrapperLeft=b.offsetPxBefore:D.wrapperTop=b.offsetPxBefore),0<b.offsetPxAfter&&(N?D.wrapperRight=b.offsetPxAfter:D.wrapperBottom=b.offsetPxAfter),b.centeredSlides&&(N?(D.wrapperLeft=(J-F)/2,D.wrapperRight=(J-F)/2):(D.wrapperTop=(J-F)/2,D.wrapperBottom=(J-F)/2)),N?(0<D.wrapperLeft&&(m.style.paddingLeft=D.wrapperLeft+"px"),0<D.wrapperRight&&(m.style.paddingRight=D.wrapperRight+"px")):(0<D.wrapperTop&&(m.style.paddingTop=D.wrapperTop+"px"),0<D.wrapperBottom&&(m.style.paddingBottom=D.wrapperBottom+"px")),G=N?i+D.wrapperRight+D.wrapperLeft:j+D.wrapperTop+D.wrapperBottom,0<parseFloat(i)&&(!b.cssWidthAndHeight||"height"===b.cssWidthAndHeight)&&(m.style.width=i+"px"),0<parseFloat(j)&&(!b.cssWidthAndHeight||"width"===b.cssWidthAndHeight)&&(m.style.height=j+"px"),k=0,D.snapGrid=[],D.slidesGrid=[],l=0;l<D.slides.length;l++)if(D.snapGrid.push(k),D.slidesGrid.push(k),k+=F,0<parseFloat(f)&&(!b.cssWidthAndHeight||"height"===b.cssWidthAndHeight)&&(D.slides[l].style.width=f+"px"),0<parseFloat(g)&&(!b.cssWidthAndHeight||"width"===b.cssWidthAndHeight))if("image"===b.paginationModel){var paginationHeight=b.paginationElementSize.height+24;D.slides[l].style.height=g+"px",D.slides[l].style.paddingBottom=paginationHeight+"px"}else D.slides[l].style.height=g+"px"}D.initialized?(D.callPlugins("onInit"),b.onInit&&D.fireCallback(b.onInit,D)):(D.callPlugins("onFirstInit"),b.onFirstInit&&D.fireCallback(b.onFirstInit,D)),D.initialized=!0}},D.reInit=function(a){D.init(!0,a)},D.resizeFix=function(a){D.callPlugins("beforeResizeFix"),D.init(b.resizeReInit||a),b.freeMode?D.getWrapperTranslate()<-e()&&(D.setWrapperTransition(0),D.setWrapperTranslate(-e())):(D.swipeTo(b.loop?D.activeLoopIndex:D.activeIndex,0,!1),b.autoplay&&(D.support.transitions&&void 0!==ab?void 0!==ab&&(clearTimeout(ab),ab=void 0,D.startAutoplay()):void 0!==bb&&(clearInterval(bb),bb=void 0,D.startAutoplay()))),D.callPlugins("afterResizeFix")},D.destroy=function(a){var c=D.h.removeEventListener,d="wrapper"===b.eventTarget?D.wrapper:D.container;if(D.browser.ie10||D.browser.ie11?(c(d,D.touchEvents.touchStart,p),c(document,D.touchEvents.touchMove,q),c(document,D.touchEvents.touchEnd,r)):(D.support.touch&&(c(d,"touchstart",p),c(d,"touchmove",q),c(d,"touchend",r)),b.simulateTouch&&(c(d,"mousedown",p),c(document,"mousemove",q),c(document,"mouseup",r))),b.autoResize&&c(window,"resize",D.resizeFix),h(),b.paginationClickable&&x(),b.mousewheelControl&&D._wheelEvent&&c(D.container,D._wheelEvent,j),b.keyboardControl&&c(document,"keydown",i),b.autoplay&&D.stopAutoplay(),a){D.wrapper.removeAttribute("style");for(var e=0;e<D.slides.length;e++)D.slides[e].removeAttribute("style")}D.callPlugins("onDestroy"),window.jQuery&&window.jQuery(D.container).data("swiper")&&window.jQuery(D.container).removeData("swiper"),window.Zepto&&window.Zepto(D.container).data("swiper")&&window.Zepto(D.container).removeData("swiper"),D=null},D.disableKeyboardControl=function(){b.keyboardControl=!1,D.h.removeEventListener(document,"keydown",i)},D.enableKeyboardControl=function(){b.keyboardControl=!0,D.h.addEventListener(document,"keydown",i)};var V=(new Date).getTime();if(D.disableMousewheelControl=function(){return!!D._wheelEvent&&(b.mousewheelControl=!1,D.h.removeEventListener(D.container,D._wheelEvent,j),!0)},D.enableMousewheelControl=function(){return!!D._wheelEvent&&(b.mousewheelControl=!0,D.h.addEventListener(D.container,D._wheelEvent,j),!0)},b.grabCursor){var W=D.container.style;W.cursor="move",W.cursor="grab",W.cursor="-moz-grab",W.cursor="-webkit-grab"}D.allowSlideClick=!0;var X,Y,Z,ab,bb,$=!(D.allowLinks=!0),_=!0;D.swipeNext=function(a,c){void 0===a&&(a=!0),!c&&b.loop&&D.fixLoop(),!c&&b.autoplay&&D.stopAutoplay(!0),D.callPlugins("onSwipeNext");var d=D.getWrapperTranslate().toFixed(2),f=d;if("auto"===b.slidesPerView){for(var g=0;g<D.snapGrid.length;g++)if(-d>=D.snapGrid[g].toFixed(2)&&-d<D.snapGrid[g+1].toFixed(2)){f=-D.snapGrid[g+1];break}}else{var h=F*b.slidesPerGroup;f=-(Math.floor(Math.abs(d)/Math.floor(h))*h+h)}return f<-e()&&(f=-e()),f!==d&&(v(f,"next",{runCallbacks:a}),!0)},D.swipePrev=function(a,c){void 0===a&&(a=!0),!c&&b.loop&&D.fixLoop(),!c&&b.autoplay&&D.stopAutoplay(!0),D.callPlugins("onSwipePrev");var d,e=Math.ceil(D.getWrapperTranslate());if("auto"===b.slidesPerView){d=0;for(var f=1;f<D.snapGrid.length;f++){if(-e===D.snapGrid[f]){d=-D.snapGrid[f-1];break}if(-e>D.snapGrid[f]&&-e<D.snapGrid[f+1]){d=-D.snapGrid[f];break}}}else{var g=F*b.slidesPerGroup;d=-(Math.ceil(-e/g)-1)*g}return 0<d&&(d=0),d!==e&&(v(d,"prev",{runCallbacks:a}),!0)},D.swipeReset=function(a){void 0===a&&(a=!0),D.callPlugins("onSwipeReset");var c,d=D.getWrapperTranslate(),f=F*b.slidesPerGroup;if(e(),"auto"===b.slidesPerView){for(var g=c=0;g<D.snapGrid.length;g++){if(-d===D.snapGrid[g])return;if(-d>=D.snapGrid[g]&&-d<D.snapGrid[g+1]){c=0<D.positions.diff?-D.snapGrid[g+1]:-D.snapGrid[g];break}}-d>=D.snapGrid[D.snapGrid.length-1]&&(c=-D.snapGrid[D.snapGrid.length-1]),d<=-e()&&(c=-e())}else c=d<0?Math.round(d/f)*f:0,d<=-e()&&(c=-e());return b.scrollContainer&&(c=d<0?d:0),c<-e()&&(c=-e()),b.scrollContainer&&F<J&&(c=0),c!==d&&(v(c,"reset",{runCallbacks:a}),!0)},D.swipeTo=function(a,c,d){a=parseInt(a,10),D.callPlugins("onSwipeTo",{index:a,speed:c}),b.loop&&(a+=D.loopedSlides);var g,f=D.getWrapperTranslate();if(!(!isFinite(a)||a>D.slides.length-1||a<0))return(g="auto"===b.slidesPerView?-D.slidesGrid[a]:-a*F)<-e()&&(g=-e()),g!==f&&(void 0===d&&(d=!0),v(g,"to",{index:a,speed:c,runCallbacks:d}),!0)},D._queueStartCallbacks=!1,D._queueEndCallbacks=!1,D.updateActiveSlide=function(a){if(D.initialized&&0!==D.slides.length){var c;if(D.previousIndex=D.activeIndex,void 0===a&&(a=D.getWrapperTranslate()),0<a&&(a=0),"auto"===b.slidesPerView){if(D.activeIndex=D.slidesGrid.indexOf(-a),D.activeIndex<0){for(c=0;c<D.slidesGrid.length-1&&!(-a>D.slidesGrid[c]&&-a<D.slidesGrid[c+1]);c++);var d=Math.abs(D.slidesGrid[c]+a),e=Math.abs(D.slidesGrid[c+1]+a);D.activeIndex=d<=e?c:c+1}}else D.activeIndex=Math[b.visibilityFullFit?"ceil":"round"](-a/F);if(D.activeIndex===D.slides.length&&(D.activeIndex=D.slides.length-1),D.activeIndex<0&&(D.activeIndex=0),D.slides[D.activeIndex]){if(D.calcVisibleSlides(a),D.support.classList){var f;for(c=0;c<D.slides.length;c++)(f=D.slides[c]).classList.remove(b.slideActiveClass),0<=D.visibleSlides.indexOf(f)?f.classList.add(b.slideVisibleClass):f.classList.remove(b.slideVisibleClass);D.slides[D.activeIndex].classList.add(b.slideActiveClass)}else{var g=new RegExp("\\s*"+b.slideActiveClass),h=new RegExp("\\s*"+b.slideVisibleClass);for(c=0;c<D.slides.length;c++)D.slides[c].className=D.slides[c].className.replace(g,"").replace(h,""),0<=D.visibleSlides.indexOf(D.slides[c])&&(D.slides[c].className+=" "+b.slideVisibleClass);D.slides[D.activeIndex].className+=" "+b.slideActiveClass}if(b.loop){var i=D.loopedSlides;D.activeLoopIndex=D.activeIndex-i,D.activeLoopIndex>=D.slides.length-2*i&&(D.activeLoopIndex=D.slides.length-2*i-D.activeLoopIndex),D.activeLoopIndex<0&&(D.activeLoopIndex=D.slides.length-2*i+D.activeLoopIndex),D.activeLoopIndex<0&&(D.activeLoopIndex=0)}else D.activeLoopIndex=D.activeIndex;b.pagination&&D.updatePagination(a)}}},D.createPagination=function(a){if(b.paginationClickable&&D.paginationButtons&&x(),D.paginationContainer=b.pagination.nodeType?b.pagination:c(b.pagination)[0],b.createPagination){var d="",f=D.slides.length;b.loop&&(f-=2*D.loopedSlides);for(var slides=D.slides,totalWidth=0,g=0;g<f;g++)if(slides[g]){var slidesHtml=(slides[g].querySelector("img")||{outerHTML:""}).outerHTML,paginationElementWidth=b.paginationElementSize.width||60,paginationElementHeight=b.paginationElementSize.height||60;"image"==b.paginationModel?(totalWidth+=paginationElementWidth+10+4,d+="<"+b.paginationElement+' style="width:'+paginationElementWidth+"px; height:"+paginationElementHeight+'px" class="'+b.paginationElementClass+'">'+slidesHtml+"</"+b.paginationElement+">"):d+="<"+b.paginationElement+' class="'+b.paginationElementClass+'"></'+b.paginationElement+">"}if("image"==b.paginationModel){var eventListener=D.h.addEventListener,_h=(b.paginationElementSize.height||60)+4+"px";D.paginationContainer.innerHTML=['<div class="swiper-pagination-left"></div>','<div class="swiper-pagination-container">','<div class="swiper-pagination-inner" style="height:'+_h+";width:"+totalWidth+'px;">',d,"</div>","</div>",'<div class="swiper-pagination-right"></div>'].join(""),eventListener(D.paginationContainer,"click",TTC)}else D.paginationContainer.innerHTML=d}D.paginationButtons=c("."+b.paginationElementClass,D.paginationContainer),a||D.updatePagination(),D.callPlugins("onCreatePagination"),b.paginationClickable&&function(){var a=D.paginationButtons;if(a)for(var b=0;b<a.length;b++)D.h.addEventListener(a[b],"click",z)}()},D.updatePagination=function(a){if(b.pagination&&!(D.slides.length<1)&&c("."+b.paginationActiveClass,D.paginationContainer)){var e=D.paginationButtons;if(0!==e.length){for(var f=0;f<e.length;f++)e[f].className=b.paginationElementClass;var g=b.loop?D.loopedSlides:0;if(b.paginationAsRange){D.visibleSlides||D.calcVisibleSlides(a);var h,i=[];for(h=0;h<D.visibleSlides.length;h++){var j=D.slides.indexOf(D.visibleSlides[h])-g;b.loop&&j<0&&(j=D.slides.length-2*D.loopedSlides+j),b.loop&&j>=D.slides.length-2*D.loopedSlides&&(j=D.slides.length-2*D.loopedSlides-j,j=Math.abs(j)),i.push(j)}for(h=0;h<i.length;h++)e[i[h]]&&(e[i[h]].className+=" "+b.paginationVisibleClass);b.loop?void 0!==e[D.activeLoopIndex]&&(e[D.activeLoopIndex].className+=" "+b.paginationActiveClass):e[D.activeIndex]&&(e[D.activeIndex].className+=" "+b.paginationActiveClass)}else b.loop?e[D.activeLoopIndex]&&(e[D.activeLoopIndex].className+=" "+b.paginationActiveClass+" "+b.paginationVisibleClass):e[D.activeIndex]&&(e[D.activeIndex].className+=" "+b.paginationActiveClass+" "+b.paginationVisibleClass)}}},D.updatePaginationPosition=function(i){if("image"==b.paginationModel){var _W=-((b.paginationElementSize.width||60)+14)*i+1+"px",_inner=c("."+b.paginationContainerInnerClass,D.paginationContainer)[0];if(!_inner)return;_inner.style.WebkitTransform="translateX("+_W+")",_inner.style.msTransform="translateX("+_W+")",_inner.style.transform="translateX("+_W+")"}},D.calcVisibleSlides=function(a){var c=[],d=0,e=0,f=0;N&&0<D.wrapperLeft&&(a+=D.wrapperLeft),!N&&0<D.wrapperTop&&(a+=D.wrapperTop);for(var g=0;g<D.slides.length;g++){f=(d+=e)+(e="auto"===b.slidesPerView?N?D.h.getWidth(D.slides[g],!0,b.roundLengths):D.h.getHeight(D.slides[g],!0,b.roundLengths):F);var h=!1;b.visibilityFullFit?(-a<=d&&f<=-a+J&&(h=!0),d<=-a&&-a+J<=f&&(h=!0)):(-a<f&&f<=-a+J&&(h=!0),-a<=d&&d<-a+J&&(h=!0),d<-a&&-a+J<f&&(h=!0)),h&&c.push(D.slides[g])}0===c.length&&(c=[D.slides[D.activeIndex]]),D.visibleSlides=c},D.startAutoplay=function(){if(D.support.transitions){if(void 0!==ab)return!1;if(!b.autoplay)return;D.callPlugins("onAutoplayStart"),b.onAutoplayStart&&D.fireCallback(b.onAutoplayStart,D),A()}else{if(void 0!==bb)return!1;if(!b.autoplay)return;D.callPlugins("onAutoplayStart"),b.onAutoplayStart&&D.fireCallback(b.onAutoplayStart,D),bb=setInterval(function(){b.loop?(D.fixLoop(),D.swipeNext(!0,!0)):D.swipeNext(!0,!0)||(b.autoplayStopOnLast?(clearInterval(bb),bb=void 0):D.swipeTo(0))},b.autoplay)}},D.stopAutoplay=function(a){if(D.support.transitions){if(!ab)return;ab&&clearTimeout(ab),ab=void 0,a&&!b.autoplayDisableOnInteraction&&D.wrapperTransitionEnd(function(){A()}),D.callPlugins("onAutoplayStop"),b.onAutoplayStop&&D.fireCallback(b.onAutoplayStop,D)}else bb&&clearInterval(bb),bb=void 0,D.callPlugins("onAutoplayStop"),b.onAutoplayStop&&D.fireCallback(b.onAutoplayStop,D)},D.loopCreated=!1,D.removeLoopedSlides=function(){if(D.loopCreated)for(var a=0;a<D.slides.length;a++)!0===D.slides[a].getData("looped")&&D.wrapper.removeChild(D.slides[a])},D.createLoop=function(){if(0!==D.slides.length){D.loopedSlides="auto"===b.slidesPerView?b.loopedSlides||1:Math.floor(b.slidesPerView)+b.loopAdditionalSlides,D.loopedSlides>D.slides.length&&(D.loopedSlides=D.slides.length);var a,c="",d="",e="",f=D.slides.length,g=Math.floor(D.loopedSlides/f),h=D.loopedSlides%f;for(a=0;a<g*f;a++){var i=a;if(f<=a)i=a-f*Math.floor(a/f);e+=D.slides[i].outerHTML}for(a=0;a<h;a++)d+=u(b.slideDuplicateClass,D.slides[a].outerHTML);for(a=f-h;a<f;a++)c+=u(b.slideDuplicateClass,D.slides[a].outerHTML);var k=c+e+E.innerHTML+e+d;for(E.innerHTML=k,D.loopCreated=!0,D.calcSlides(),a=0;a<D.slides.length;a++)(a<D.loopedSlides||a>=D.slides.length-D.loopedSlides)&&D.slides[a].setData("looped",!0);D.callPlugins("onCreateLoop")}},D.fixLoop=function(){var a;D.activeIndex<D.loopedSlides?(a=D.slides.length-3*D.loopedSlides+D.activeIndex,D.swipeTo(a,0,!1)):("auto"===b.slidesPerView&&D.activeIndex>=2*D.loopedSlides||D.activeIndex>D.slides.length-2*b.slidesPerView)&&(a=-D.slides.length+D.activeIndex+D.loopedSlides,D.swipeTo(a,0,!1))},D.loadSlides=function(){var a="";D.activeLoaderIndex=0;for(var c=b.loader.slides,d=b.loader.loadAllSlides?c.length:b.slidesPerView*(1+b.loader.surroundGroups),e=0;e<d;e++)a+="outer"===b.loader.slidesHTMLType?c[e]:"<"+b.slideElement+' class="'+b.slideClass+'" data-swiperindex="'+e+'">'+c[e]+"</"+b.slideElement+">";D.wrapper.innerHTML=a,D.calcSlides(!0),b.loader.loadAllSlides||D.wrapperTransitionEnd(D.reloadSlides,!0)},D.reloadSlides=function(){var a=b.loader.slides,c=parseInt(D.activeSlide().data("swiperindex"),10);if(!(c<0||c>a.length-1)){D.activeLoaderIndex=c;var g,d=Math.max(0,c-b.slidesPerView*b.loader.surroundGroups),e=Math.min(c+b.slidesPerView*(1+b.loader.surroundGroups)-1,a.length-1);if(0<c){var f=-F*(c-d);D.setWrapperTranslate(f),D.setWrapperTransition(0)}if("reload"===b.loader.logic){var h=D.wrapper.innerHTML="";for(g=d;g<=e;g++)h+="outer"===b.loader.slidesHTMLType?a[g]:"<"+b.slideElement+' class="'+b.slideClass+'" data-swiperindex="'+g+'">'+a[g]+"</"+b.slideElement+">";D.wrapper.innerHTML=h}else{var i=1e3,j=0;for(g=0;g<D.slides.length;g++){var k=D.slides[g].data("swiperindex");k<d||e<k?D.wrapper.removeChild(D.slides[g]):(i=Math.min(k,i),j=Math.max(k,j))}for(g=d;g<=e;g++){var l;g<i&&((l=document.createElement(b.slideElement)).className=b.slideClass,l.setAttribute("data-swiperindex",g),l.innerHTML=a[g],D.wrapper.insertBefore(l,D.wrapper.firstChild)),j<g&&((l=document.createElement(b.slideElement)).className=b.slideClass,l.setAttribute("data-swiperindex",g),l.innerHTML=a[g],D.wrapper.appendChild(l))}}D.reInit(!0)}},D.calcSlides(),0<b.loader.slides.length&&0===D.slides.length&&D.loadSlides(),b.loop&&D.createLoop(),D.init(),function(){function a(a){function e(){null!=D&&(void 0!==D.imagesLoaded&&D.imagesLoaded++,D.imagesLoaded===D.imagesToLoad.length&&(D.reInit(),b.onImagesReady&&D.fireCallback(b.onImagesReady,D)))}var c,d;a.complete?e():(d=a.currentSrc||a.getAttribute("src"))?((c=new Image).onload=e,c.onerror=e,c.src=d):e()}var d=D.h.addEventListener,e="wrapper"===b.eventTarget?D.wrapper:D.container;if(D.browser.ie10||D.browser.ie11?(d(e,D.touchEvents.touchStart,p),d(document,D.touchEvents.touchMove,q),d(document,D.touchEvents.touchEnd,r)):(D.support.touch&&(d(e,"touchstart",p),d(e,"touchmove",q),d(e,"touchend",r)),b.simulateTouch&&(d(e,"mousedown",p),d(document,"mousemove",q),d(document,"mouseup",r))),b.autoResize&&d(window,"resize",D.resizeFix),g(),D._wheelEvent=!1,b.mousewheelControl){if(void 0!==document.onmousewheel&&(D._wheelEvent="mousewheel"),!D._wheelEvent)try{new WheelEvent("wheel"),D._wheelEvent="wheel"}catch(f){}D._wheelEvent||(D._wheelEvent="DOMMouseScroll"),D._wheelEvent&&d(D.container,D._wheelEvent,j)}if(b.keyboardControl&&d(document,"keydown",i),b.updateOnImagesReady){D.imagesToLoad=c("img",D.container);for(var h=0;h<D.imagesToLoad.length;h++)a(D.imagesToLoad[h])}}(),b.pagination&&D.createPagination(!0),b.loop||0<b.initialSlide?D.swipeTo(b.initialSlide,0,!1):D.updateActiveSlide(0),b.autoplay&&D.startAutoplay(),D.centerIndex=D.activeIndex,b.onSwiperCreated&&D.fireCallback(b.onSwiperCreated,D),D.callPlugins("onSwiperCreated")}};function _initViewer($){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$;var DEFAULTS={inline:!1,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,interval:4e3,keyboard:!0,backdrop:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,zIndex:2015,zIndexInline:0,url:"src",container:"body",filter:null,ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null},IN_BROWSER="undefined"!=typeof window,WINDOW=IN_BROWSER?window:{},CLASS_IN="viewer-in",CLASS_TRANSITION="viewer-transition",EVENT_POINTER_DOWN=WINDOW.PointerEvent?"pointerdown":"touchstart mousedown",EVENT_POINTER_MOVE=WINDOW.PointerEvent?"pointermove":"touchmove mousemove",EVENT_POINTER_UP=WINDOW.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",BUTTONS=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"],BUTTONSTITLES={"zoom-in":"放大","zoom-out":"缩小","one-to-one":"1:1原图",reset:"重置",prev:"上一张",play:"自动播放",next:"下一张","rotate-left":"逆时针旋转","rotate-right":"顺时针旋转","flip-horizontal":"水平镜像","flip-vertical":"垂直镜像"},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function isString(value){return"string"==typeof value}var isNaN=Number.isNaN||WINDOW.isNaN;function isNumber(value){return"number"==typeof value&&!isNaN(value)}function isUndefined(value){return void 0===value}function isObject(value){return"object"===(void 0===value?"undefined":_typeof(value))&&null!==value}var hasOwnProperty=Object.prototype.hasOwnProperty;function isPlainObject(value){if(!isObject(value))return!1;try{var _constructor=value.constructor,prototype=_constructor.prototype;return _constructor&&prototype&&hasOwnProperty.call(prototype,"isPrototypeOf")}catch(e){return!1}}function isFunction(value){return"function"==typeof value}function forEach(data,callback){if(data&&isFunction(callback))if(Array.isArray(data)||isNumber(data.length)){var length=data.length,i=void 0;for(i=0;i<length&&!1!==callback.call(data,data[i],i,data);i+=1);}else isObject(data)&&Object.keys(data).forEach(function(key){callback.call(data,data[key],key,data)});return data}var assign=Object.assign||function(obj){for(var _len=arguments.length,args=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return isObject(obj)&&0<args.length&&args.forEach(function(arg){isObject(arg)&&Object.keys(arg).forEach(function(key){obj[key]=arg[key]})}),obj},REGEXP_SUFFIX=/^(?:width|height|left|top|marginLeft|marginTop)$/;function setStyle(element,styles){var style=element.style;forEach(styles,function(value,property){REGEXP_SUFFIX.test(property)&&isNumber(value)&&(value+="px"),style[property]=value})}function hasClass(element,value){return element.classList?element.classList.contains(value):-1<element.className.indexOf(value)}function addClass(element,value){if(value)if(isNumber(element.length))forEach(element,function(elem){addClass(elem,value)});else if(element.classList)element.classList.add(value);else{var className=element.className.trim();className?className.indexOf(value)<0&&(element.className=className+" "+value):element.className=value}}function removeClass(element,value){value&&(isNumber(element.length)?forEach(element,function(elem){removeClass(elem,value)}):element.classList?element.classList.remove(value):0<=element.className.indexOf(value)&&(element.className=element.className.replace(value,"")))}function toggleClass(element,value,added){value&&(isNumber(element.length)?forEach(element,function(elem){toggleClass(elem,value,added)}):(added?addClass:removeClass)(element,value))}var REGEXP_HYPHENATE=/([a-z\d])([A-Z])/g;function hyphenate(value){return value.replace(REGEXP_HYPHENATE,"$1-$2").toLowerCase()}function getData(element,name){return isObject(element[name])?element[name]:element.dataset?element.dataset[name]:element.getAttribute("data-"+hyphenate(name))}function setData(element,name,data){isObject(data)?element[name]=data:element.dataset?element.dataset[name]=data:element.setAttribute("data-"+hyphenate(name),data)}var REGEXP_SPACES=/\s\s*/,onceSupported=function(){var supported=!1;if(IN_BROWSER){var once=!1,listener=function(){},options=Object.defineProperty({},"once",{get:function(){return supported=!0,once},set:function(value){once=value}});WINDOW.addEventListener("test",listener,options),WINDOW.removeEventListener("test",listener,options)}return supported}();function removeListener(element,type,listener,argument_3){var options=3<arguments.length&&void 0!==argument_3?argument_3:{},handler=listener;type.trim().split(REGEXP_SPACES).forEach(function(event){if(!onceSupported){var listeners=element.listeners;listeners&&listeners[event]&&listeners[event][listener]&&(handler=listeners[event][listener],delete listeners[event][listener],0===Object.keys(listeners[event]).length&&delete listeners[event],0===Object.keys(listeners).length&&delete element.listeners)}element.removeEventListener(event,handler,options)})}function addListener(element,type,listener,argument_3){var options=3<arguments.length&&void 0!==argument_3?argument_3:{},_handler=listener;type.trim().split(REGEXP_SPACES).forEach(function(event){if(options.once&&!onceSupported){var _element$listeners=element.listeners,listeners=void 0===_element$listeners?{}:_element$listeners;_handler=function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];delete listeners[event][listener],element.removeEventListener(event,_handler,options),listener.apply(element,args)},listeners[event]||(listeners[event]={}),listeners[event][listener]&&element.removeEventListener(event,listeners[event][listener],options),listeners[event][listener]=_handler,element.listeners=listeners}element.addEventListener(event,_handler,options)})}function dispatchEvent(element,type,data){var event=void 0;return isFunction(Event)&&isFunction(CustomEvent)?event=new CustomEvent(type,{detail:data,bubbles:!0,cancelable:!0}):(event=document.createEvent("CustomEvent")).initCustomEvent(type,!0,!0,data),element.dispatchEvent(event)}function getTransforms(_ref){var rotate=_ref.rotate,scaleX=_ref.scaleX,scaleY=_ref.scaleY,translateX=_ref.translateX,translateY=_ref.translateY,values=[];isNumber(translateX)&&0!==translateX&&values.push("translateX("+translateX+"px)"),isNumber(translateY)&&0!==translateY&&values.push("translateY("+translateY+"px)"),isNumber(rotate)&&0!==rotate&&values.push("rotate("+rotate+"deg)"),isNumber(scaleX)&&1!==scaleX&&values.push("scaleX("+scaleX+")"),isNumber(scaleY)&&1!==scaleY&&values.push("scaleY("+scaleY+")");var transform=values.length?values.join(" "):"none";return{WebkitTransform:transform,msTransform:transform,transform:transform}}var IS_SAFARI=WINDOW.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(WINDOW.navigator.userAgent);function getImageNaturalSizes(image,callback){var newImage=document.createElement("img");if(image.naturalWidth&&!IS_SAFARI)return callback(image.naturalWidth,image.naturalHeight),newImage;var body=document.body||document.documentElement;return newImage.onload=function(){callback(newImage.width,newImage.height),IS_SAFARI||body.removeChild(newImage)},newImage.src=image.src,IS_SAFARI||(newImage.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",body.appendChild(newImage)),newImage}function getResponsiveClass(type){switch(type){case 2:return"viewer-hide-xs-down";case 3:return"viewer-hide-sm-down";case 4:return"viewer-hide-md-down";default:return""}}function getPointer(_ref2,endOnly){var pageX=_ref2.pageX,pageY=_ref2.pageY,end={endX:pageX,endY:pageY};return endOnly?end:assign({startX:pageX,startY:pageY},end)}var render={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var options=this.options,parent=this.parent,viewerData=void 0;options.inline&&(viewerData={width:Math.max(parent.offsetWidth,options.minWidth),height:Math.max(parent.offsetHeight,options.minHeight)},this.parentData=viewerData),!this.fulled&&viewerData||(viewerData=this.containerData),this.viewerData=assign({},viewerData)},renderViewer:function(){this.options.inline&&!this.fulled&&setStyle(this.viewer,this.viewerData)},initList:function(){var _this=this,element=this.element,options=this.options,list=this.list,items=[];forEach(this.images,function(image,i){var src=image.src,tag=image.getAttribute("tag")||"",text=image.getAttribute("text")||"",originSrc=image.getAttribute("origin-src")||"",alt=image.alt||function(url){return isString(url)?url.replace(/^.*\//,"").replace(/[?&#].*$/,""):""}(src),url=options.url,liClass="";isString(url)?url=image.getAttribute(url):isFunction(url)&&(url=url.call(_this,image)),(src||url)&&("video"==tag&&(liClass="is-video-li"),items.push('<li class="'+liClass+'" data-action="li-view"><img src="'+(src||url)+'" text = '+text+' tag="'+tag+'" origin-src="'+originSrc+'" role="button" data-action="view" data-index="'+i+'" data-original-url="'+(url||src)+'" alt="'+alt+'"></li>'))}),list.innerHTML=items.join(""),this.items=list.getElementsByTagName("li"),forEach(this.items,function(item){var image=item.firstElementChild;setData(image,"filled",!0),options.loading&&addClass(item,"viewer-loading"),addListener(image,"load",function(event){options.loading&&removeClass(item,"viewer-loading"),_this.loadImage(event)},{once:!0})}),options.transition&&addListener(element,"viewed",function(){addClass(list,CLASS_TRANSITION)},{once:!0})},renderList:function(index){var i=index||this.index,width=this.items[i].offsetWidth||30,outerWidth=width+1;setStyle(this.list,assign({width:outerWidth*this.length},getTransforms({translateX:(this.viewerData.width-width)/2-outerWidth*i})))},resetList:function(){var list=this.list;list.innerHTML="",removeClass(list,CLASS_TRANSITION),setStyle(list,getTransforms({translateX:0}))},initImage:function(done){var _this2=this,options=this.options,image=this.image,viewerData=this.viewerData,footerHeight=this.footer.offsetHeight,viewerWidth=viewerData.width,viewerHeight=Math.max(viewerData.height-footerHeight,footerHeight),oldImageData=this.imageData||{},sizingImage=void 0;this.imageInitializing={abort:function(){sizingImage.onload=null}},sizingImage=getImageNaturalSizes(image,function(naturalWidth,naturalHeight){var aspectRatio=naturalWidth/naturalHeight,width=viewerWidth,height=viewerHeight;_this2.imageInitializing=!1,viewerWidth<viewerHeight*aspectRatio?height=viewerWidth/aspectRatio:width=viewerHeight*aspectRatio;var imageData={naturalWidth:naturalWidth,naturalHeight:naturalHeight,aspectRatio:aspectRatio,ratio:(width=Math.min(.9*width,naturalWidth))/naturalWidth,width:width,height:height=Math.min(.9*height,naturalHeight),left:(viewerWidth-width)/2,top:(viewerHeight-height)/2},initialImageData=assign({},imageData);options.rotatable&&(imageData.rotate=oldImageData.rotate||0,initialImageData.rotate=0),options.scalable&&(imageData.scaleX=oldImageData.scaleX||1,imageData.scaleY=oldImageData.scaleY||1,initialImageData.scaleX=1,initialImageData.scaleY=1),_this2.imageData=imageData,_this2.initialImageData=initialImageData,done&&done()})},renderImage:function(done){var _this3=this,image=this.image,imageData=this.imageData;if(setStyle(image,assign({width:imageData.width,height:imageData.height,marginLeft:imageData.left,marginTop:imageData.top},getTransforms(imageData))),done)if(this.viewing&&this.options.transition){var onTransitionEnd=function(){_this3.imageRendering=!1,done()};this.imageRendering={abort:function(){removeListener(image,"transitionend",onTransitionEnd)}},addListener(image,"transitionend",onTransitionEnd,{once:!0})}else done()},resetImage:function(){if(this.viewing||this.viewed){var image=this.image;this.viewing&&this.viewing.abort(),image.parentNode.removeChild(image),this.image=null}}},events={bind:function(){var element=this.element,viewer=this.viewer;addListener(viewer,"click",this.onClick=this.click.bind(this)),addListener(viewer,"wheel mousewheel DOMMouseScroll",this.onWheel=this.wheel.bind(this)),addListener(viewer,"dragstart",this.onDragStart=this.dragstart.bind(this)),addListener(this.canvas,EVENT_POINTER_DOWN,this.onPointerDown=this.pointerdown.bind(this)),addListener(element.ownerDocument,EVENT_POINTER_MOVE,this.onPointerMove=this.pointermove.bind(this)),addListener(element.ownerDocument,EVENT_POINTER_UP,this.onPointerUp=this.pointerup.bind(this)),addListener(element.ownerDocument,"keydown",this.onKeyDown=this.keydown.bind(this)),addListener(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var element=this.element,viewer=this.viewer;removeListener(viewer,"click",this.onClick),removeListener(viewer,"wheel mousewheel DOMMouseScroll",this.onWheel),removeListener(viewer,"dragstart",this.onDragStart),removeListener(this.canvas,EVENT_POINTER_DOWN,this.onPointerDown),removeListener(element.ownerDocument,EVENT_POINTER_MOVE,this.onPointerMove),removeListener(element.ownerDocument,EVENT_POINTER_UP,this.onPointerUp),removeListener(element.ownerDocument,"keydown",this.onKeyDown),removeListener(window,"resize",this.onResize)}},handlers={click:function(_ref){var target=_ref.target,options=this.options,imageData=this.imageData,action=getData(target,"action");switch("li-view"==action&&"LI"==target.tagName&&(target=target.firstElementChild,action="view"),action){case"mix":this.played?this.stop():options.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(getData(target,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(options.loop);break;case"play":this.play(options.fullscreen);break;case"next":this.next(options.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-imageData.scaleX||-1);break;case"flip-vertical":this.scaleY(-imageData.scaleY||-1);break;default:this.played&&this.stop()}},load:function(){var _this=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var element=this.element,options=this.options,image=this.image,index=this.index,viewerData=this.viewerData;if(removeClass(image,"viewer-invisible"),options.loading&&removeClass(this.canvas,"viewer-loading"),"VIDEO"==image.tagName)return image.style.cssText="height:0;width:0",setTimeout(function(){image.offsetHeight,image.offsetWidth;image.style.cssText="height:auto;width:auto;left:50%;top:50%;position:absolute",isFunction(options.viewed)&&options.viewed({detail:{originalImage:_this.images[index],index:index,image:image}})},20),this;image.style.cssText="height:0;margin-left:"+viewerData.width/2+"px;margin-top:"+viewerData.height/2+"px;max-width:none!important;position:absolute;width:0;",this.initImage(function(){toggleClass(image,"viewer-move",options.movable),toggleClass(image,CLASS_TRANSITION,options.transition),_this.renderImage(function(){_this.viewed=!0,_this.viewing=!1,isFunction(options.viewed)&&addListener(element,"viewed",options.viewed,{once:!0}),dispatchEvent(element,"viewed",{originalImage:_this.images[index],index:index,image:image})})})},loadImage:function(e){var image=e.target,parent=image.parentNode,parentWidth=parent.offsetWidth||30,parentHeight=parent.offsetHeight||50,filled=!!getData(image,"filled");getImageNaturalSizes(image,function(naturalWidth,naturalHeight){var aspectRatio=naturalWidth/naturalHeight,width=parentWidth,height=parentHeight;parentWidth<parentHeight*aspectRatio?filled?width=parentHeight*aspectRatio:height=parentWidth/aspectRatio:filled?height=parentWidth/aspectRatio:width=parentHeight*aspectRatio,setStyle(image,assign({width:width,height:height},getTransforms({translateX:(parentWidth-width)/2,translateY:(parentHeight-height)/2})))})},keydown:function(e){var options=this.options;if(this.fulled&&options.keyboard)switch(e.keyCode||e.which||e.charCode){case 27:this.played?this.stop():options.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(options.loop);break;case 38:e.preventDefault(),this.zoom(options.zoomRatio,!0);break;case 39:this.next(options.loop);break;case 40:e.preventDefault(),this.zoom(-options.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle())}},dragstart:function(e){"img"===e.target.tagName.toLowerCase()&&e.preventDefault()},pointerdown:function(e){var options=this.options,pointers=this.pointers;if(this.viewed&&!this.showing&&!this.viewing&&!this.hiding){e.changedTouches?forEach(e.changedTouches,function(touch){pointers[touch.identifier]=getPointer(touch)}):pointers[e.pointerId||0]=getPointer(e);var action=!!options.movable&&"move";1<Object.keys(pointers).length?action="zoom":"touch"!==e.pointerType&&"touchstart"!==e.type||!this.isSwitchable()||(action="switch"),this.action=action}},pointermove:function(e){var options=this.options,pointers=this.pointers,action=this.action,image=this.image;this.viewed&&action&&(e.preventDefault(),e.changedTouches?forEach(e.changedTouches,function(touch){assign(pointers[touch.identifier],getPointer(touch,!0))}):assign(pointers[e.pointerId||0],getPointer(e,!0)),"move"===action&&options.transition&&hasClass(image,CLASS_TRANSITION)&&removeClass(image,CLASS_TRANSITION),this.change(e))},pointerup:function(e){var action=this.action,pointers=this.pointers;e.changedTouches?forEach(e.changedTouches,function(touch){delete pointers[touch.identifier]}):delete pointers[e.pointerId||0],action&&("move"===action&&this.options.transition&&addClass(this.image,CLASS_TRANSITION),this.action=!1)},resize:function(){var _this2=this;if(this.isShown&&!this.hiding&&(this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){_this2.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement)return void this.stop();forEach(this.player.getElementsByTagName("img"),function(image){addListener(image,"load",_this2.loadImage.bind(_this2),{once:!0}),dispatchEvent(image,"load")})}},wheel:function(e){var _this3=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){_this3.wheeling=!1},50);var ratio=Number(this.options.zoomRatio)||.1,delta=1;e.deltaY?delta=0<e.deltaY?1:-1:e.wheelDelta?delta=-e.wheelDelta/120:e.detail&&(delta=0<e.detail?1:-1),this.zoom(-delta*ratio,!0,e)}}},methods={show:function(argument_0){var immediate=0<arguments.length&&void 0!==argument_0&&argument_0,element=this.element,options=this.options;if(options.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(immediate),this;if(isFunction(options.show)&&addListener(element,"show",options.show,{once:!0}),!1===dispatchEvent(element,"show")||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var viewer=this.viewer;if(removeClass(viewer,"viewer-hide"),options.transition&&!immediate){var shown=this.shown.bind(this);this.transitioning={abort:function(){removeListener(viewer,"transitionend",shown),removeClass(viewer,CLASS_IN)}},addClass(viewer,CLASS_TRANSITION),viewer.offsetWidth,addListener(viewer,"transitionend",shown,{once:!0}),addClass(viewer,CLASS_IN)}else addClass(viewer,CLASS_IN),this.shown();return this},hide:function(){var immediate=0<arguments.length&&void 0!==arguments[0]&&arguments[0],element=this.element,options=this.options;if(options.inline||this.hiding||!this.isShown&&!this.showing)return this;if(isFunction(options.hide)&&addListener(element,"hide",options.hide,{once:!0}),!1===dispatchEvent(element,"hide"))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var viewer=this.viewer;if(options.transition&&!immediate){var hidden=this.hidden.bind(this),hide=function(){addListener(viewer,"transitionend",hidden,{once:!0}),removeClass(viewer,CLASS_IN)};this.transitioning={abort:function(){this.viewed?removeListener(this.image,"transitionend",hide):removeListener(viewer,"transitionend",hidden)}},this.viewed?(addListener(this.image,"transitionend",hide,{once:!0}),this.zoomTo(0,!1,!1,!0)):hide()}else removeClass(viewer,CLASS_IN),this.hidden();return this},view:function(argument_0){console.log(123123123);var _this=this,index=0<arguments.length&&void 0!==argument_0?argument_0:0;if(index=Number(index)||0,!this.isShown)return this.index=index,this.show();if(this.hiding||this.played||index<0||index>=this.length||this.viewed&&index===this.index)return this;this.viewing&&this.viewing.abort();var element=this.element,options=this.options,title=this.title,canvas=this.canvas,item=this.items[index],img=item.querySelector("img"),url=getData(img,"originalUrl"),alt=img.getAttribute("alt"),text=img.getAttribute("text")||"",tag=img.getAttribute("tag")||"img",image=document.createElement(tag);if("video"==tag&&(url=img.getAttribute("origin-src"),image.setAttribute("controls","controls"),image.setAttribute("alt",alt)),image.setAttribute("text",text),image.src=url,image.alt=alt,isFunction(options.view)&&addListener(element,"view",options.view,{once:!0}),!1===dispatchEvent(element,"view",{originalImage:this.images[index],index:index,image:image})||!this.isShown||this.hiding||this.played)return this;this.image=image,removeClass(this.items[this.index],"viewer-active"),addClass(item,"viewer-active"),this.viewed=!1,this.index=index,this.imageData={},addClass(image,"viewer-invisible"),options.loading&&addClass(canvas,"viewer-loading"),canvas.innerHTML="",canvas.appendChild(image),this.renderList(),title.innerHTML="";var onViewed=function(){var imageData=_this.imageData;title.textContent=(text||alt)+" ("+imageData.naturalWidth+" × "+imageData.naturalHeight+")"},onLoad=void 0;return addListener(element,"viewed",onViewed,{once:!0}),this.viewing={abort:function(){removeListener(element,"viewed",onViewed),image.complete?this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort():(removeListener(image,"load",onLoad),this.timeout&&clearTimeout(this.timeout))}},image.complete?this.load():("video"==tag?(addListener(image,"canplaythrough",onLoad=this.load.bind(this),{once:!0}),title.innerHTML=image.getAttribute("text")||"视频"):addListener(image,"load",onLoad=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){removeClass(image,"viewer-invisible"),_this.timeout=!1},1e3)),this},prev:function(argument_0){var loop=0<arguments.length&&void 0!==argument_0&&argument_0,index=this.index-1;return index<0&&(index=loop?this.length-1:0),this.view(index),this},next:function(argument_0){var loop=0<arguments.length&&void 0!==argument_0&&argument_0,maxIndex=this.length-1,index=this.index+1;return maxIndex<index&&(index=loop?0:maxIndex),this.view(index),this},move:function(offsetX,offsetY){var imageData=this.imageData;return this.moveTo(isUndefined(offsetX)?offsetX:imageData.left+Number(offsetX),isUndefined(offsetY)?offsetY:imageData.top+Number(offsetY)),this},moveTo:function(x,argument_1){var y=1<arguments.length&&void 0!==argument_1?argument_1:x,imageData=this.imageData;if(x=Number(x),y=Number(y),this.viewed&&!this.played&&this.options.movable){var changed=!1;isNumber(x)&&(imageData.left=x,changed=!0),isNumber(y)&&(imageData.top=y,changed=!0),changed&&this.renderImage()}return this},zoom:function(ratio,argument_1,argument_2){var hasTooltip=1<arguments.length&&void 0!==argument_1&&argument_1,_originalEvent=2<arguments.length&&void 0!==argument_2?argument_2:null,imageData=this.imageData;return ratio=(ratio=Number(ratio))<0?1/(1-ratio):1+ratio,this.zoomTo(imageData.width*ratio/imageData.naturalWidth,hasTooltip,_originalEvent),this},zoomTo:function(ratio,argument_1,argument_2,argument_3){var element,box,hasTooltip=1<arguments.length&&void 0!==argument_1&&argument_1,_originalEvent=2<arguments.length&&void 0!==argument_2?argument_2:null,_zoomable=3<arguments.length&&void 0!==argument_3&&argument_3,options=this.options,pointers=this.pointers,imageData=this.imageData;if(isNumber(ratio=Math.max(0,ratio))&&this.viewed&&!this.played&&(_zoomable||options.zoomable)){if(!_zoomable){var minZoomRatio=Math.max(.01,options.minZoomRatio),maxZoomRatio=Math.min(100,options.maxZoomRatio);ratio=Math.min(Math.max(ratio,minZoomRatio),maxZoomRatio)}_originalEvent&&.95<ratio&&ratio<1.05&&(ratio=1);var newWidth=imageData.naturalWidth*ratio,newHeight=imageData.naturalHeight*ratio;if(_originalEvent){var offset=(element=this.viewer,{left:(box=element.getBoundingClientRect()).left+(window.pageXOffset-document.documentElement.clientLeft),top:box.top+(window.pageYOffset-document.documentElement.clientTop)}),center=pointers&&Object.keys(pointers).length?function(pointers){var pageX=0,pageY=0,count=0;return forEach(pointers,function(_ref3){var startX=_ref3.startX,startY=_ref3.startY;pageX+=startX,pageY+=startY,count+=1}),{pageX:pageX/=count,pageY:pageY/=count}}(pointers):{pageX:_originalEvent.pageX,pageY:_originalEvent.pageY};imageData.left-=(newWidth-imageData.width)*((center.pageX-offset.left-imageData.left)/imageData.width),imageData.top-=(newHeight-imageData.height)*((center.pageY-offset.top-imageData.top)/imageData.height)}else imageData.left-=(newWidth-imageData.width)/2,imageData.top-=(newHeight-imageData.height)/2;imageData.width=newWidth,imageData.height=newHeight,imageData.ratio=ratio,this.renderImage(),hasTooltip&&this.tooltip()}return this},rotate:function(degree){return this.rotateTo((this.imageData.rotate||0)+Number(degree)),this},rotateTo:function(degree){var imageData=this.imageData;return isNumber(degree=Number(degree))&&this.viewed&&!this.played&&this.options.rotatable&&(imageData.rotate=degree,this.renderImage()),this},scaleX:function(_scaleX){return this.scale(_scaleX,this.imageData.scaleY),this},scaleY:function(_scaleY){return this.scale(this.imageData.scaleX,_scaleY),this},scale:function(scaleX,argument_1){var scaleY=1<arguments.length&&void 0!==argument_1?argument_1:scaleX,imageData=this.imageData;if(scaleX=Number(scaleX),scaleY=Number(scaleY),this.viewed&&!this.played&&this.options.scalable){var changed=!1;isNumber(scaleX)&&(imageData.scaleX=scaleX,changed=!0),isNumber(scaleY)&&(imageData.scaleY=scaleY,changed=!0),changed&&this.renderImage()}return this},play:function(){var _this2=this,fullscreen=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var options=this.options,player=this.player,onLoad=this.loadImage.bind(this),list=[],total=0,index=0;if(this.played=!0,this.onLoadWhenPlay=onLoad,fullscreen&&this.requestFullscreen(),addClass(player,"viewer-show"),forEach(this.items,function(item,i){var img=item.querySelector("img"),image=document.createElement("img");image.src=getData(img,"originalUrl"),image.alt=img.getAttribute("alt"),total+=1,addClass(image,"viewer-fade"),toggleClass(image,CLASS_TRANSITION,options.transition),hasClass(item,"viewer-active")&&(addClass(image,CLASS_IN),index=i),list.push(image),addListener(image,"load",onLoad,{once:!0}),player.appendChild(image)}),isNumber(options.interval)&&0<options.interval){var play=function play(){_this2.playing=setTimeout(function(){removeClass(list[index],CLASS_IN),addClass(list[index=(index+=1)<total?index:0],CLASS_IN),play()},options.interval)};1<total&&play()}return this},stop:function(){var _this3=this;if(!this.played)return this;var player=this.player;return this.played=!1,clearTimeout(this.playing),forEach(player.getElementsByTagName("img"),function(image){removeListener(image,"load",_this3.onLoadWhenPlay)}),removeClass(player,"viewer-show"),player.innerHTML="",this.exitFullscreen(),this},full:function(){var _this4=this,options=this.options,viewer=this.viewer,image=this.image,list=this.list;return!this.isShown||this.played||this.fulled||!options.inline||(this.fulled=!0,this.open(),addClass(this.button,"viewer-fullscreen-exit"),options.transition&&(removeClass(list,CLASS_TRANSITION),this.viewed&&removeClass(image,CLASS_TRANSITION)),addClass(viewer,"viewer-fixed"),viewer.setAttribute("style",""),setStyle(viewer,{zIndex:options.zIndex}),this.initContainer(),this.viewerData=assign({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){_this4.renderImage(function(){options.transition&&setTimeout(function(){addClass(image,CLASS_TRANSITION),addClass(list,CLASS_TRANSITION)},0)})})),this},exit:function(){var _this5=this,options=this.options,viewer=this.viewer,image=this.image,list=this.list;return this.isShown&&!this.played&&this.fulled&&options.inline&&(this.fulled=!1,this.close(),removeClass(this.button,"viewer-fullscreen-exit"),options.transition&&(removeClass(list,CLASS_TRANSITION),this.viewed&&removeClass(image,CLASS_TRANSITION)),removeClass(viewer,"viewer-fixed"),setStyle(viewer,{zIndex:options.zIndexInline}),this.viewerData=assign({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){_this5.renderImage(function(){options.transition&&setTimeout(function(){addClass(image,CLASS_TRANSITION),addClass(list,CLASS_TRANSITION)},0)})})),this},tooltip:function(){var _this6=this,options=this.options,tooltipBox=this.tooltipBox,imageData=this.imageData;return this.viewed&&!this.played&&options.tooltip&&(tooltipBox.textContent=Math.round(100*imageData.ratio)+"%",this.tooltipping?clearTimeout(this.tooltipping):options.transition?(this.fading&&dispatchEvent(tooltipBox,"transitionend"),addClass(tooltipBox,"viewer-show"),addClass(tooltipBox,"viewer-fade"),addClass(tooltipBox,CLASS_TRANSITION),tooltipBox.offsetWidth,addClass(tooltipBox,CLASS_IN)):addClass(tooltipBox,"viewer-show"),this.tooltipping=setTimeout(function(){options.transition?(addListener(tooltipBox,"transitionend",function(){removeClass(tooltipBox,"viewer-show"),removeClass(tooltipBox,"viewer-fade"),removeClass(tooltipBox,CLASS_TRANSITION),_this6.fading=!1},{once:!0}),removeClass(tooltipBox,CLASS_IN),_this6.fading=!0):removeClass(tooltipBox,"viewer-show"),_this6.tooltipping=!1},1e3)),this},toggle:function(){return 1===this.imageData.ratio?this.zoomTo(this.initialImageData.ratio,!0):this.zoomTo(1,!0),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=assign({},this.initialImageData),this.renderImage()),this},update:function(){var element=this.element,options=this.options,isImg=this.isImg;if(isImg&&!element.parentNode)return this.destroy();var images=[];if(forEach(isImg?[element]:element.querySelectorAll("img"),function(image){(!options.filter||options.filter(image))&&images.push(image)}),!images.length)return this;if(this.images=images,this.length=images.length,this.ready){var indexes=[];if(forEach(this.items,function(item,i){var img=item.querySelector("img"),image=images[i];image&&image.src===img.src||indexes.push(i)}),setStyle(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var index=indexes.indexOf(this.index);0<=index?(this.viewed=!1,this.view(Math.max(this.index-(index+1),0))):addClass(this.items[this.index],"viewer-active")}}else this.image=null,this.viewed=!1,this.index=0,this.imageData=null,this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var element=this.element,options=this.options;return getData(element,"viewer")&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),options.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):options.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),options.inline||removeListener(element,"click",this.onStart),function(element,name){if(isObject(element[name]))try{delete element[name]}catch(e){element[name]=void 0}else if(element.dataset)try{delete element.dataset[name]}catch(e){element.dataset[name]=void 0}else element.removeAttribute("data-"+hyphenate(name))}(element,"viewer")),this}},others={open:function(){var body=this.body;addClass(body,"viewer-open"),body.style.paddingRight=this.scrollbarWidth+(parseFloat(this.initialBodyPaddingRight)||0)+"px"},close:function(){var body=this.body;removeClass(body,"viewer-open"),body.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var element=this.element,options=this.options;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,isFunction(options.shown)&&addListener(element,"shown",options.shown,{once:!0}),!1!==dispatchEvent(element,"shown")&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var element=this.element,options=this.options;this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),addClass(this.viewer,"viewer-hide"),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(isFunction(options.hidden)&&addListener(element,"hidden",options.hidden,{once:!0}),dispatchEvent(element,"hidden"))},requestFullscreen:function(){var document=this.element.ownerDocument;if(this.fulled&&!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement){var documentElement=document.documentElement;documentElement.requestFullscreen?documentElement.requestFullscreen():documentElement.msRequestFullscreen?documentElement.msRequestFullscreen():documentElement.mozRequestFullScreen?documentElement.mozRequestFullScreen():documentElement.webkitRequestFullscreen&&documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}},exitFullscreen:function(){if(this.fulled){var document=this.element.ownerDocument;document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},change:function(e){var options=this.options,pointers=this.pointers,pointer=pointers[Object.keys(pointers)[0]],offsetX=pointer.endX-pointer.startX,offsetY=pointer.endY-pointer.startY;switch(this.action){case"move":this.move(offsetX,offsetY);break;case"zoom":this.zoom(function(pointers){var pointers2=assign({},pointers),ratios=[];return forEach(pointers,function(pointer,pointerId){delete pointers2[pointerId],forEach(pointers2,function(pointer2){var x1=Math.abs(pointer.startX-pointer2.startX),y1=Math.abs(pointer.startY-pointer2.startY),x2=Math.abs(pointer.endX-pointer2.endX),y2=Math.abs(pointer.endY-pointer2.endY),z1=Math.sqrt(x1*x1+y1*y1),ratio=(Math.sqrt(x2*x2+y2*y2)-z1)/z1;ratios.push(ratio)})}),ratios.sort(function(a,b){return Math.abs(a)<Math.abs(b)}),ratios[0]}(pointers),!1,e);break;case"switch":this.action="switched",this.pointers={},Math.abs(offsetX)>Math.abs(offsetY)&&(1<offsetX?this.prev(options.loop):offsetX<-1&&this.next(options.loop))}forEach(pointers,function(p){p.startX=p.endX,p.startY=p.endY})},isSwitchable:function(){var imageData=this.imageData,viewerData=this.viewerData;return 1<this.length&&0<=imageData.left&&0<=imageData.top&&imageData.width<=viewerData.width&&imageData.height<=viewerData.height}},AnotherViewer=WINDOW.Viewer,Viewer=function(){function Viewer(element){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Viewer),!element||1!==element.nodeType)throw new Error("The first argument is required and must be an element.");this.element=element,this.options=assign({},DEFAULTS,isPlainObject(options)&&options),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.index=0,this.isImg=!1,this.length=0,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.isShown=!1,this.wheeling=!1,this.init()}return createClass(Viewer,[{key:"init",value:function(){var _this=this,element=this.element,options=this.options;if(!getData(element,"viewer")){setData(element,"viewer",this);var isImg="img"===element.tagName.toLowerCase(),images=[];if(forEach(isImg?[element]:element.querySelectorAll("img"),function(image){(!isFunction(options.filter)||options.filter.call(_this,image))&&images.push(image)}),images.length){this.isImg=isImg,this.length=images.length,this.images=images;var ownerDocument=element.ownerDocument,body=ownerDocument.body||ownerDocument.documentElement;if(this.body=body,this.scrollbarWidth=window.innerWidth-ownerDocument.documentElement.clientWidth,this.initialBodyPaddingRight=window.getComputedStyle(body).paddingRight,isUndefined(document.createElement("viewer").style.transition)&&(options.transition=!1),options.inline){var count=0,progress=function(){if((count+=1)===_this.length){var timeout=void 0;_this.initializing=!1,_this.delaying={abort:function(){clearTimeout(timeout)}},timeout=setTimeout(function(){_this.delaying=!1,_this.build()},0)}};this.initializing={abort:function(){forEach(images,function(image){image.complete||removeListener(image,"load",progress)})}},forEach(images,function(image){image.complete?progress():addListener(image,"load",progress,{once:!0})})}else addListener(element,"click",this.onStart=function(_ref){var target=_ref.target;"img"===target.tagName.toLowerCase()&&_this.view(_this.images.indexOf(target))})}}}},{key:"build",value:function(){if(!this.ready){var element=this.element,options=this.options,parent=element.parentNode,template=document.createElement("div");template.innerHTML='<div class="viewer-container" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><br/><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div role="button" class="viewer-button" data-action="mix"></div><div class="viewer-player"></div></div>';var viewer=template.querySelector(".viewer-container"),title=viewer.querySelector(".viewer-title"),toolbar=viewer.querySelector(".viewer-toolbar"),navbar=viewer.querySelector(".viewer-navbar"),button=viewer.querySelector(".viewer-button"),canvas=viewer.querySelector(".viewer-canvas");if(this.parent=parent,this.viewer=viewer,this.title=title,this.toolbar=toolbar,this.navbar=navbar,this.button=button,this.canvas=canvas,this.footer=viewer.querySelector(".viewer-footer"),this.tooltipBox=viewer.querySelector(".viewer-tooltip"),this.player=viewer.querySelector(".viewer-player"),this.list=viewer.querySelector(".viewer-list"),addClass(title,options.title?getResponsiveClass(options.title):"viewer-hide"),addClass(navbar,options.navbar?getResponsiveClass(options.navbar):"viewer-hide"),toggleClass(button,"viewer-hide",!options.button),options.backdrop&&(addClass(viewer,"viewer-backdrop"),options.inline||!0!==options.backdrop||setData(canvas,"action","hide")),options.toolbar){var list=document.createElement("ul"),custom=isPlainObject(options.toolbar),zoomButtons=BUTTONS.slice(0,3),rotateButtons=BUTTONS.slice(7,9),scaleButtons=BUTTONS.slice(9);custom||addClass(toolbar,getResponsiveClass(options.toolbar)),forEach(custom?options.toolbar:BUTTONS,function(value,index){var deep=custom&&isPlainObject(value),name=custom?hyphenate(index):value,show=deep&&!isUndefined(value.show)?value.show:value;if(show&&(options.zoomable||-1===zoomButtons.indexOf(name))&&(options.rotatable||-1===rotateButtons.indexOf(name))&&(options.scalable||-1===scaleButtons.indexOf(name))){var size=deep&&!isUndefined(value.size)?value.size:value,click=deep&&!isUndefined(value.click)?value.click:value,item=document.createElement("li");item.setAttribute("role","button"),addClass(item,"viewer-"+name),isFunction(click)||setData(item,"action",name),isNumber(show)&&addClass(item,getResponsiveClass(show)),-1!==["small","large"].indexOf(size)?addClass(item,"viewer-"+size):"play"===name&&addClass(item,"viewer-large"),isFunction(click)&&addListener(item,"click",click),item.setAttribute("title",BUTTONSTITLES[name]),list.appendChild(item)}}),toolbar.appendChild(list)}else addClass(toolbar,"viewer-hide");if(!options.rotatable){var rotates=toolbar.querySelectorAll('li[class*="rotate"]');addClass(rotates,"viewer-invisible"),forEach(rotates,function(rotate){toolbar.appendChild(rotate)})}if(options.inline)addClass(button,"viewer-fullscreen"),setStyle(viewer,{zIndex:options.zIndexInline}),"static"===window.getComputedStyle(parent).position&&setStyle(parent,{position:"relative"}),parent.insertBefore(viewer,element.nextSibling);else{addClass(button,"viewer-close"),addClass(viewer,"viewer-fixed"),addClass(viewer,"viewer-fade"),addClass(viewer,"viewer-hide"),setStyle(viewer,{zIndex:options.zIndex});var container=options.container;isString(container)&&(container=element.ownerDocument.querySelector(container)),(container=container||this.body).appendChild(viewer)}options.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,isFunction(options.ready)&&addListener(element,"ready",options.ready,{once:!0}),!1!==dispatchEvent(element,"ready")?this.ready&&options.inline&&this.view():this.ready=!1}}}],[{key:"noConflict",value:function(){return window.Viewer=AnotherViewer,Viewer}},{key:"setDefaults",value:function(options){assign(DEFAULTS,isPlainObject(options)&&options)}}]),Viewer}();if(assign(Viewer.prototype,render,events,handlers,methods,others),$.fn){var AnotherViewer$1=$.fn.viewer;$.fn.viewer=function(option){for(var _len=arguments.length,args=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var result=void 0;return this.each(function(i,element){var $element=$(element),isDestroy="destroy"===option,viewer=$element.data("viewer");if(!viewer){if(isDestroy)return;var options=$.extend({},$element.data(),$.isPlainObject(option)&&option);viewer=new Viewer(element,options),$element.data("viewer",viewer)}if("string"==typeof option){var fn=viewer[option];$.isFunction(fn)&&((result=fn.apply(viewer,args))===viewer&&(result=void 0),isDestroy&&$element.removeData("viewer"))}}),void 0!==result?result:this},$.fn.viewer.Constructor=Viewer,$.fn.viewer.setDefaults=Viewer.setDefaults,$.fn.viewer.noConflict=function(){return $.fn.viewer=AnotherViewer$1,this}}}Swiper.prototype={plugins:{},wrapperTransitionEnd:function(a,b){"use strict";function c(h){if(h.target===f&&(a(e),e.params.queueEndCallbacks&&(e._queueEndCallbacks=!1),!b))for(d=0;d<g.length;d++)e.h.removeEventListener(f,g[d],c)}var d,e=this,f=e.wrapper,g=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(a)for(d=0;d<g.length;d++)e.h.addEventListener(f,g[d],c)},getWrapperTranslate:function(a){"use strict";var b,c,d,e,f=this.wrapper;return void 0===a&&(a="horizontal"===this.params.mode?"x":"y"),this.support.transforms&&this.params.useCSS3Transforms?(d=window.getComputedStyle(f,null),window.WebKitCSSMatrix?e=new WebKitCSSMatrix("none"===d.webkitTransform?"":d.webkitTransform):b=(e=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===a&&(c=window.WebKitCSSMatrix?e.m41:parseFloat(16===b.length?b[12]:b[4])),"y"===a&&(c=window.WebKitCSSMatrix?e.m42:parseFloat(16===b.length?b[13]:b[5]))):("x"===a&&(c=parseFloat(f.style.left,10)||0),"y"===a&&(c=parseFloat(f.style.top,10)||0)),c||0},setWrapperTranslate:function(a,b,c){"use strict";var d,e=this.wrapper.style,f={x:0,y:0,z:0};3===arguments.length?(f.x=a,f.y=b,f.z=c):(void 0===b&&(b="horizontal"===this.params.mode?"x":"y"),f[b]=a),this.support.transforms&&this.params.useCSS3Transforms?(d=this.support.transforms3d?"translate3d("+f.x+"px, "+f.y+"px, "+f.z+"px)":"translate("+f.x+"px, "+f.y+"px)",e.webkitTransform=e.MsTransform=e.msTransform=e.MozTransform=e.OTransform=e.transform=d):(e.left=f.x+"px",e.top=f.y+"px"),this.callPlugins("onSetWrapperTransform",f),this.params.onSetWrapperTransform&&this.fireCallback(this.params.onSetWrapperTransform,this,f)},setWrapperTransition:function(a){"use strict";var b=this.wrapper.style;b.webkitTransitionDuration=b.MsTransitionDuration=b.msTransitionDuration=b.MozTransitionDuration=b.OTransitionDuration=b.transitionDuration=a/1e3+"s",this.callPlugins("onSetWrapperTransition",{duration:a}),this.params.onSetWrapperTransition&&this.fireCallback(this.params.onSetWrapperTransition,this,a)},h:{getWidth:function(a,b,c){"use strict";var d=window.getComputedStyle(a,null).getPropertyValue("width"),e=parseFloat(d);return(isNaN(e)||0<d.indexOf("%")||e<0)&&(e=a.offsetWidth-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-right"))),b&&(e+=parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-right"))),c?Math.ceil(e):e},getHeight:function(a,b,c){"use strict";if(b)return a.offsetHeight;var d=window.getComputedStyle(a,null).getPropertyValue("height"),e=parseFloat(d);return(isNaN(e)||0<d.indexOf("%")||e<0)&&(e=a.offsetHeight-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-bottom"))),b&&(e+=parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-bottom"))),c?Math.ceil(e):e},getOffset:function(a){"use strict";var b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return document.documentElement&&!window.pageYOffset&&(f=document.documentElement.scrollTop,g=document.documentElement.scrollLeft),{top:b.top+f-d,left:b.left+g-e}},windowWidth:function(){"use strict";return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:void 0},windowHeight:function(){"use strict";return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:void 0},windowScroll:function(){"use strict";return"undefined"!=typeof pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:document.documentElement?{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}:void 0},addEventListener:function(a,b,c,d){"use strict";void 0===d&&(d=!1),a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},removeEventListener:function(a,b,c,d){"use strict";void 0===d&&(d=!1),a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)}},setTransform:function(a,b){"use strict";var c=a.style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=b},setTranslate:function(a,b){"use strict";var c=a.style,d_x=b.x||0,d_y=b.y||0,d_z=b.z||0,e=this.support.transforms3d?"translate3d("+d_x+"px,"+d_y+"px,"+d_z+"px)":"translate("+d_x+"px,"+d_y+"px)";c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=e,this.support.transforms||(c.left=d_x+"px",c.top=d_y+"px")},setTransition:function(a,b){"use strict";var c=a.style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=b+"ms"},support:{touch:window.Modernizr&&!0===Modernizr.touch||function(){"use strict";return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||function(){"use strict";var a=document.createElement("div").style;return"webkitPerspective"in a||"MozPerspective"in a||"OPerspective"in a||"MsPerspective"in a||"perspective"in a}(),transforms:window.Modernizr&&!0===Modernizr.csstransforms||function(){"use strict";var a=document.createElement("div").style;return"transform"in a||"WebkitTransform"in a||"MozTransform"in a||"msTransform"in a||"MsTransform"in a||"OTransform"in a}(),transitions:window.Modernizr&&!0===Modernizr.csstransitions||function(){"use strict";var a=document.createElement("div").style;return"transition"in a||"WebkitTransition"in a||"MozTransition"in a||"msTransition"in a||"MsTransition"in a||"OTransition"in a}(),classList:function(){"use strict";return"classList"in document.createElement("div")}()},browser:{ie8:function(){"use strict";var a=-1;if("Microsoft Internet Explorer"===navigator.appName){var b=navigator.userAgent;null!==new RegExp(/MSIE ([0-9]{1,}[\.0-9]{0,})/).exec(b)&&(a=parseFloat(RegExp.$1))}return-1!==a&&a<9}(),ie10:window.navigator.msPointerEnabled,ie11:window.navigator.pointerEnabled}},function(root,factory){if("undefined"!=typeof C5)C5.define(function(require,exports,module){module.exports=factory(require("c5.jquery"))});else if("object"==typeof module&&module&&"object"==typeof module.exports)module.exports=factory(require("jquery"));else{if("function"!=typeof define||!define.amd)return factory(root.jQuery);require(["jquery"],null,function(){throw"picture-viewer.all.js基于jQuery开发，请先在页面引入 jquery!!!"}),define(function(require){return factory(require("jquery"))})}}(window,function($){"use strict";if(_initViewer($),!$.fn.viewer)throw"请在页面引入viewer.js";var SwiperConstructor=Swiper;window.$=$;var swipers=[],swiper_default={loop:!1,pagination:".swiper-pagination",paginationClickable:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSlideClick:function(){}},viewer_default={height:300,width:300,viewable:!0,hasUploadAndDeleteBtns:!0,uploadBtnText:"上传",deleteBtnText:"删除该附件",uploadBtnTitle:"上传",deleteBtnTitle:"删除该附件",data:[],paginationModel:"point",paginationElementSize:{height:50,width:40}};function _upload(evt){return $(this).parents(".pic-btns").find(".upload-input").click(),evt.preventDefault(),evt.stopPropagation(),!1}function _deleteBtnClick(evt){var _opt=evt.data.opt,activeIndex=$(this).parents(".pic-btns").siblings(".pic-viewer").find(".swiper-pagination").find(".swiper-active-switch").index()||0,isVideo=!!$(this).parents(".pic-btns").siblings(".pic-viewer").find(".swiper-slide-active").hasClass("is-video");"function"==typeof _opt.onDelete&&_opt.onDelete({type:"onDelete",activeIndex:activeIndex,isVideo:isVideo,evt:evt})}function _picHover(){$(this).find(".pic-btns").css("display","inline-block")}function _picMouseLeave(){$(this).find(".pic-btns").hide()}function _uploadBtnChange(evt){var _opt=evt.data.opt,activeIndex=$(this).parents(".pic-btns").siblings(".pic-viewer").find(".swiper-pagination").find(".swiper-active-switch").index()||0,isVideo=!!$(this).parents(".pic-btns").siblings(".pic-viewer").find(".swiper-slide-active").hasClass("is-video");activeIndex<=0&&(activeIndex=0);var files=evt.target.files||null;delete evt.target.files,"function"==typeof _opt.onUpload&&_opt.onUpload({type:"onUpload",activeIndex:activeIndex,isVideo:isVideo,evt:evt,files:files}),this.value=null}function _leftBtnClick(e){var swiper=e.data.swiper;e.preventDefault(),swiper.swipePrev()}function _rightBtnClick(e){var swiper=e.data.swiper;e.preventDefault(),swiper.swipeNext()}function _cleanEventListener(viewer){$(viewer).find(".upload-input").off("change",_uploadBtnChange),$(viewer).off("click",_upload),$(viewer).off("click",_deleteBtnClick),$(viewer).off("click",_leftBtnClick),$(viewer).off("click",_rightBtnClick),$(viewer).off({mouseenter:_picHover,mouseleave:_picMouseLeave})}function _createViewerDom(_config,_viewer){var _opt=$.extend({},viewer_default,_config),_btn_html=['<div class="pic-btns"><span class="viewer-hide"><input type="file" class="upload-input" accept="video/*,image/*"></span><span class="pic-btn-upload" title="'+_opt.uploadBtnTitle+'">',_opt.uploadBtnText,'</span><span class="pic-btn-delete" title="'+_opt.deleteBtnTitle+'">',_opt.deleteBtnText,"</span></div>"].join("");if(!_opt.data||!_opt.data.length)return _btn_html=['<div class="pic-btns"><span class="viewer-hide"><input type="file" class="upload-input" accept="video/*,image/*"></span><span class="pic-btn-upload" title="'+_opt.uploadBtnTitle+'">',_opt.uploadBtnText,"</span></div>"].join(""),$(_viewer).empty().append(_btn_html),void $(_viewer).on("click",".pic-btn-upload",_upload).on({mouseenter:_picHover,mouseleave:_picMouseLeave}).find(".upload-input").on("change",{opt:_opt},_uploadBtnChange);var _slides="",_viewer_pics="";(_opt.data||[]).forEach(function(d){var item='<div class="swiper-slide"><div class="slide-inner"><img src="'+d.img+'" alt="'+(d.text||" ")+'"/></div></div>';d.isVideo&&(item='<div class="swiper-slide is-video"><div class="slide-inner"><img src="'+d.img+'" alt="'+(d.text||" ")+'"/><span class="viewer-play"></span></div></div>'),_slides+=item}),(_opt.data||[]).forEach(function(d){var item='<div class=""><img src="'+d.img+'" text="'+(d.text||"尺寸：")+'" alt="'+d.text+'"/></div>';d.isVideo&&(item='<div class="is-video"><img tag="video" origin-src="'+d.videoSrc+'" src="'+d.img+'" text="'+(d.text||"")+'" alt="'+d.text+'"/></div>'),_viewer_pics+=item});var _html="",_viewer_height=_opt.height,_viewer_PB=0;"image"===_opt.paginationModel&&(_viewer_height=_opt.height+_opt.paginationElementSize.height+24,_viewer_PB=_opt.paginationElementSize.height+24);var _paginationHeight="auto";"image"==_opt.paginationModel&&(_paginationHeight=(_opt.paginationElementSize.height||60)+24);var handlers=['<div class="swiper-pagination ',"swiper-"+_opt.paginationModel,'" style = "height:'+_paginationHeight+'px;"></div>\n','<div class="swiper-button-prev"></div>\n','<div class="swiper-button-next"></div>\n','<div class="swiper-scrollbar"></div>\n'].join("");_html=_opt.hasUploadAndDeleteBtns?[_btn_html,'<div class="pic-viewer swiper-container" style="padding-bottom:'+_viewer_PB+'px","><div class="swiper-wrapper">',_slides,"</div>",handlers,"</div>",'<div class="pic-hide-viewer">',_viewer_pics,"</div>"].join(""):['<div class="pic-viewer swiper-container"><div class="swiper-wrapper">'+_slides+"</div>",handlers,"</div>",'<div class="pic-hide-viewer">',_viewer_pics,"</div>"].join("");var _margin_top=-12;"image"===_opt.paginationModel&&(_margin_top=-(_opt.paginationElementSize.height+24)/2-22),_html+='<a class="viewer-prev" href="javascript:void(0)" style="margin-top:'+_margin_top+'px"></a> \n    <a class="viewer-next" href="javascript:void(0)" style="margin-top:'+_margin_top+'px"></a>',$(_viewer).empty().append(_html).on("click",".pic-btn-upload",_upload).on("click",".pic-btn-delete",{opt:_opt},_deleteBtnClick).on({mouseenter:_picHover,mouseleave:_picMouseLeave}).css({opacity:.1,position:"relative",display:"inline-block","user-select":"none","border-radius":"4px",overflow:"hidden",height:_viewer_height+"px",width:_opt.width+"px"}).find(".upload-input").on("change",{opt:_opt},_uploadBtnChange);var paginationModel=_opt.paginationModel||"point",paginationElementSize=_opt.paginationElementSize||{height:10,width:10},swiperConfig=$.extend({},{paginationModel:paginationModel,paginationElementSize:paginationElementSize},swiper_default,{height:_opt.height,width:_opt.width},_opt.swiper);swiperConfig.onSlideClick=function(evt){_opt.swiper&&"function"==typeof _opt.swiper.onSlideClick&&_opt.swiper.onSlideClick(evt),function(evt){var activeIndex=$(evt.container).find(".swiper-pagination").find(".swiper-active-switch").index();$(evt.container).siblings(".pic-hide-viewer").find("img").eq(activeIndex).click()}(evt)},setTimeout(function(){var mySwiper=new SwiperConstructor(".swiper-container",swiperConfig);swipers.push(mySwiper),$(_viewer).on("click",".viewer-prev",{swiper:mySwiper},_leftBtnClick).on("click",".viewer-next",{swiper:mySwiper},_rightBtnClick).css({opacity:1}),function(mySwiper,_config,_viewer){{if(!_config||!_config.viewable)return;if(_config){var _options=$.extend({},viewer_default,_config);$(_viewer).find(".pic-hide-viewer").viewer({view:function(data){var shownIndex=data.detail.index;mySwiper.swipeTo(shownIndex,30)},viewed:function(data){var shownIndex=data.detail.index;try{"VIDEO"==data.detail.image.tagName?$(".viewer-toolbar").find("li[role=button]").each(function(i,li){"prev"===$(li).data("action")||"next"===$(li).data("action")||"play"===$(li).data("action")?$(li).show():$(li).hide()}):$(".viewer-toolbar").find("li[role=button]").show()}catch(err){throw err}var activeIndex=shownIndex||0,isVideo=!!$(_viewer).find(".pic-viewer").find(".swiper-slide-active").hasClass("is-video");"function"==typeof _options.afterView&&_options.afterView({type:"afterPicViewed",data:data,activeIndex:activeIndex,isVideo:isVideo})}})}}}(mySwiper,_opt,_viewer)},50)}$.fn.picViewer=function(config){config=config||{};var _options=$.extend({},viewer_default,config);return $(this).extend({getSwiper:function(callback){setTimeout(function(){"function"==typeof callback&&callback(swipers)},100)},refresh:function(_config){var _opt=$.extend(_options,_config);swipers=[],_opt.swiper.initialSlide=0,$(this).each(function(this_index,viewer){_cleanEventListener(viewer),_createViewerDom(_opt,viewer)})},removeItemByIndex:function(indexs){var _opt=_options,initIndex=_opt.swiper.initialSlide||0,resData=[];indexs instanceof Array?(_opt.data.forEach(function(d,i){-1==indexs.indexOf(i)?resData.push(d):initIndex=i}),_opt.data=resData):_opt.data&&_opt.data[indexs]?(_opt.data.splice(indexs,1),initIndex=indexs):console.warn("无该索引的附件"+indexs),--initIndex<0&&(initIndex=0),_opt.swiper.initialSlide=initIndex,swipers=[],$(this).each(function(this_index,viewer){_cleanEventListener(viewer),_createViewerDom(_opt,viewer)})},addItem:function(index,arr){var _opt=_options,initIndex=_opt.swiper.initialSlide||0;if(0<=index||(index=0),arr instanceof Array){initIndex=index+arr.length-1;for(var i=arr.length-1;0<=i;i--)_opt.data.splice(index,0,arr[i])}else arr instanceof Object&&(initIndex=index,_opt.data.splice(index+1,0,arr));_opt.swiper.initialSlide=initIndex,swipers=[],$(this).each(function(this_index,viewer){_cleanEventListener(viewer),_createViewerDom(_opt,viewer)})}}).each(function(viewerIndex,viewer){_createViewerDom(config,viewer)})};var no_conflict_$1=$.fn.picViewer;$.fn.picViewer.noConflict=function(){return $.fn.picViewer=no_conflict_$1,this};$("body").append("\x3c!--[if IE 9]><style>.viewer-canvas.viewer-loading::before{\n  -webkit-animation: none;\n  animation: none;\n  border: none;\n  border-radius: 50%;\n  content: '加载中…';\n  letter-spacing: 1px;\n  display: inline-block;\n  text-align: center;\n  height: 40px;\n  left: 50%;\n  margin-left: -20px;\n  margin-top: -20px;\n  position: absolute;\n  top: 50%;\n  width: 120px;\n  z-index: 1;\n  line-height: 40px;\n  font-size: 14px;\n  color: #fff;\n  pointer-events: none!important;\n}\n</style><![endif]--\x3e\n")});